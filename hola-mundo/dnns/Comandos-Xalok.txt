YB695HJ7D7E    



Script getAdsDisplayFunction que detecta el dispositivo en front para Mostrarle
el adscolection respectivo, tendriamos que cambiar nuevamente este script  y ser aun mas
fino en el filtro para obtener 0 request en los reportes

Este script se modifico hace 2 semanas aprox, se tendria q modificar denuevo



142  const flagHb = ((arcSite === 'trome' && section === 'espectaculos')||(arcSite === 'ojo' && section === 'ojo-show'))? true:''

153
        // agregando informacion en commit de hb para ojo/ojo-show
        if(flagHb){
          if(space === 'top'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop', 'phone'],
                    params: {
                      placementId: `<::getAdsDisplay() === 'mobile' ? '19003326' : '19003302' ::>`
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop', 'phone'],
                    params: {
                      accountId: '19186',
                      siteId : `<::getAdsDisplay() === 'mobile' ? '215782' : '215780' ::>`,
                      zoneId : `<::getAdsDisplay() === 'mobile' ? '1655590' : '1655560' ::>`
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop', 'phone'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'caja1'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop'],
                    params: {
                      placementId: '19003320'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop'],
                    params: {
                      accountId: '19186',
                      siteId : '215780',
                      zoneId : '1655524',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'caja2'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop'],
                    params: {
                      placementId: '19003321'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop'],
                    params: {
                      accountId: '19186',
                      siteId : '215780',
                      zoneId : '1655534',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'caja3'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['phone'],
                    params: {
                      placementId: '19003329'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['phone'],
                    params: {
                      accountId: '19186',
                      siteId : '215782',
                      zoneId : '1655576',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['phone'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'caja4'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['phone'],
                    params: {
                      placementId: '19003330'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['phone'],
                    params: {
                      accountId: '19186',
                      siteId : '215782',
                      zoneId : '1655580',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['phone'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'caja5'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['phone'],
                    params: {
                      placementId: '19003331'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['phone'],
                    params: {
                      accountId: '19186',
                      siteId : '215782',
                      zoneId : '1655582',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['phone'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'laterall'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop'],
                    params: {
                      placementId: '19003306'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop'],
                    params: {
                      accountId: '19186',
                      siteId : '215780',
                      zoneId : '1655542',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'lateralr'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop'],
                    params: {
                      placementId: '19003308'
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop'],
                    params: {
                      accountId: '19186',
                      siteId : '215780',
                      zoneId : '1655554',
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }else if(space === 'zocalo'){
            formatSpace.bidding={
              prebid:{
                enabled: true,
                bids: [
                  {
                    bidder: 'appnexus',
                    labels: ['desktop', 'phone'],
                    params: {
                      placementId: `<::getAdsDisplay() === 'mobile' ? '19003327' : '19003319' ::>`
                    }
                  },
                  {
                    bidder: 'rubicon',
                    labels: ['desktop', 'phone'],
                    params: {
                      accountId: '19186',
                      siteId : `<::getAdsDisplay() === 'mobile' ? '215782' : '215780' ::>`,
                      zoneId : `<::getAdsDisplay() === 'mobile' ? '1655592' : '1655566' ::>`,
                    }
                  },
                  {
                    bidder: 'criteo',
                    labels: ['desktop', 'phone'],
                    params: {
                      networkId: '7890' 
                    }
                  }
                ]
              }
            }
          }
        }















prebid = header bidding? si es una implementacion de hb prebbid

espacios y tamaños de hb los mismos ? configuracion 

en un ticket vi que se tenia que agregar 
una linea arcads.js?? hay algo nuevo por configurar alli?



causas 
18 de mayo limpio 
laterales, caja 1 y 2  en smarthphones 



gtag('config', 'UA-3055636-39', { 'optimize_id': 'GTM-5T98DXR'});

taboola-below-content-thumbnails


vastahuaman@rmgperustaff.com
1quecomience












afino la presentacion con los resultados que salian de la prueba AB
se hizo la presentacion a yobana para empezar con la prueba con structuredTaboola
realize un test con redirección para ver si era tambien una alternativa
    al parecer no creo q lo usemos les mandare la url

Si no hay alguna prioridad,Hoy creare mi primer objetivo en analitics  y lo verificare 
con una prueba en optimize

Objetivo para taboola:
basico para urls diferentes a elcomercio y googleadservices (para identificar las urls de taboola)




https://aspesin.org/ec-nota-standar.html








https://pubads.g.doubleclick.net/gampad/ads?iu=/28253241/publimetro/web/post/actualidad/preroll&description_url=https%3A%2F%2Fpublimetro.pe%2F&tfcd=0&npa=0&sz=640x480&cust_params=fuente%3Dweb%26publisher%3Dpublimetro%26seccion%3Dactualidad%26tipoplantilla%3Dpost&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=



npm install --save-dev @arc-fusion/cli@latest


<amp-ad width="300" height="250" type="doubleclick"
  data-slot="/28253241/depor/amp/post/default/inline" data-multi-size="1x1"
  data-multi-size-validation="false"  ></amp-ad>




https://d2dvq461rdwooi.cloudfront.net/output/publicidad/espacios.json 
     
     content_restrictions: {content_code:contentCode='standar'}={},   // 28
    
     // 102
    const getTargetFunction = `var getTarget=function getTarget(){ return {"contenido":"${contentCode}","publisher":"${arcSite}","seccion":"${section}","categoria":"${subsection}","fuente":"WEB","tipoplantilla":"${page}","phatname":"${siteUrl}${requestUri.split('?')[0]}","tags":'${targetingTags}',"ab_test":"","tmp_ad":getTmpAd()}};`
 
 
 
 
 
 
 
 
        const flagDimension = (space === 'laterall'||space === 'lateralr' )? 'true':'false'
       
       
        if (flagDimension==='true') {
          formatSpace.dimensions = [[[120,600],[160,600]]]
          formatSpace.sizemap={
            breakpoints:[[1250,0]],
            refresh:true
        }
      }



https://2018-12:1e2d52d4ead4a36107f31f30ad5d2562@api.sandbox.elcomercio.arcpublishing.com/content/v4/stories/?website_url=/futbol-internacional/pablo-bengoechea-sobre-jean-deza-y-carlos-ascues-no-es-lindo-convivir-con-noticias-que-perturban-el-ambiente-noticia/&website=depor&_sourceExclude=owner,address,websites,language
https://api.sandbox.elcomercio.arcpublishing.com/content/v4/stories/?website_url=/economia/test-1-noticia/&website=gestion&_sourceExclude=owner,address,websites,language



12:28
daniel.polo@fractal.com.pe





12:28
poringero88
12:31
https://admanager.google.com/28253241#inventory/ad_unit/list

https://securepubads.g.doubleclick.net/gampad/ads
        ?gdfp_req=1
        &pvsid=3102825725551379
        &correlator=1420393937826536
        &output=ldjh
        &impl=fif
        &adsid=ChAIgIXO8gUQqpjbk_uS9OoQEkUALrL4Uw-Dc4IJ2VMU8XLgCJPxqCTtcsXjwaM7xOn9wxebP6LECwm0EjI7FUHfFXl_0Q5hCPkLDdy15G7xM1mHij7aRok
        &jar=2020-02-24-15
        &eid=676982996&vrg=2020021802
        &guci=2.2.0.0.2.2.0.0
        &sc=0
        &sfv=1-0-37
        &ecs=20200224
        &iu=%2F28253241%2Fdepor%2Fweb%2Fhome%2Flaterall
        &sz=1x0%7C0x1
        &rc=3
        &prevtos=124
        &scp=publisher%3Ddepor%26fuente%3DWEB%26tipoplantilla%3Dhome%26phatname%3Dhttps%253A%252F%252Fdepor.com%252Fhomepage%253Fref%253Ddepr
        &eri=1
        &cookie_enabled=1
        &bc=31
        &abxe=1
        &lmt=1582557835
        &dt=1582557835615
        &dlt=1582557678899
        &idt=1900
        &frm=20
        &biw=1207
        &bih=496
        &oid=3&adx=-66&ady=103&adk=432637804
        &uci=5
        &ifi=5
        &u_tz=-300&u_his=2&u_h=1080&u_w=1920&u_ah=1080&u_aw=1920&u_cd=24&u_nplug=3&u_nmime=4&u_sd=1&flash=0&url=http%3A%2F%2Flocalhost%2Fpf%2Fdepor%2F%3F_website%3Ddepor&dssz=53&icsg=12947860156&std=0&vis=1&dmc=8&scr_x=0&scr_y=371&psz=160x600&msz=160x600&psts=AA2WTGPNxr0CeNnB2GY4q-ltPz59&ga_vid=918987392.1572282416&ga_sid=1582557681&ga_hid=1710222967&fws=516&ohw=1207&btvi=0
https://pubads.g.doubleclick.net/gampad/ads?iu=/28253241/publimetro_post_deportes_web_preroll&description_url=https%3A%2F%2Fpublimetro.pe%2F&tfcd=0&npa=0&sz=640x360&cust_params=fuente%3Dweb%26publisher%3Dpublimetro%26seccion%3Ddeportes%26tipoplantilla%3Dpost&gdfp_req=1&output=vast&unviewed_position_start=1&env=vp&impl=s&correlator=







antes de 
const structuredTaboola = 
//
  const collapseDivs = `var googletag = window.googletag || {cmd: []}; googletag.cmd.push(function() {googletag.pubads().collapseEmptyDivs();console.log('collapse  paso');googletag.enableServices();});`
//


antes de 384
//
        {arcSite === 'publimetro' && !nodas && !isLivePage && 
        (
          <script
            type="text/javascript"
            defer
            dangerouslySetInnerHTML={{ __html: collapseDivs }}
          />
        )
        }

//



que le dijo el cesped a sol,
no me calientes mucho que despues me hago una paja



    const keysValue = {
      publisher:'publimetro',
      seccion:'sect',
      categoria:'subs',
      fuente:'web',
      tipoplantilla:'pordeterminar',
      phatname:'url',
      tags:'tags',
      ab_test:'determinar',
      tmp_ad:'configurable',
  };
  console.log(keysValue,'dnns keysvalues');

    console.log(siteProperties,'dnns sitepropietes');
;console.log("${siteProperties}",'dnns propierties')







237   const PREBID_TIMEOUT = site==='p21'? 2700:3000




1. Primero vas a la rama sandbox, haces pull de la rama

2. luego ejecutas "npm run zip" y eso generara el zip
3.al terminar te vas a page builder y en la opcion "Desarollador Herramientas"
nuevos mensajes
se despliga una barra de opciones y dentro de ella esta "despliegue"
le das ahi o a "distribuidor"
cualquiera de las dos
esperas a q termine de cargar.. el inicia con una ventana lateral abierta que es el historial..
cierras esa ventana y veras la opcion "cargar paquete"
donde indicaras el zip y un nombre



// https://t.17track.net/es#nums=RV238591121CN,UW056400260CN,RV230616865CN
//
<ForecastExtended cityId={cityId} cityName={cityName}></ForecastExtended>







// visa         <svg xmlns="http://www.w3.org/2000/svg" width="69" height="41"><defs><filter id="a" x="0" y="0" width="69" height="41" filterUnits="userSpaceOnUse"><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation=".5" result="blur"></feGaussianBlur><feFlood flood-opacity=".161"></feFlood><feComposite operator="in" in2="blur"></feComposite><feComposite in="SourceGraphic"></feComposite></filter></defs><g data-name="Grupo 505"><rect data-name="RectÃ¡ngulo 674" width="66" height="38" rx="4" transform="translate(1.5 .5)" fill="#f4f4f4" filter="url(#a)"></rect><path data-name="Trazado 509" d="M28.449 26.06l2.166-12.154H34L31.9 26.06z" fill="#3c58bf"></path><path data-name="Trazado 510" d="M28.449 26.06l2.775-12.154h2.775l-2.1 12.154z" fill="#293688"></path><path data-name="Trazado 511" d="M44.322 14.04a8.6 8.6 0 0 0-3.114-.54c-3.385 0-5.822 1.688-5.822 4.119 0 1.823 1.692 2.769 3.046 3.377s1.76 1.013 1.76 1.553c0 .81-1.083 1.216-2.031 1.216a7.373 7.373 0 0 1-3.249-.675l-.474-.2-.473 2.765a11 11 0 0 0 3.858.675c3.588 0 5.957-1.688 5.957-4.254 0-1.418-.88-2.5-2.911-3.376-1.219-.608-1.963-.945-1.963-1.553 0-.54.609-1.08 1.963-1.08a6.221 6.221 0 0 1 2.572.473l.338.135.542-2.634z" fill="#3c58bf"></path><path data-name="Trazado 512" d="M44.322 14.04a8.6 8.6 0 0 0-3.114-.54c-3.385 0-5.212 1.688-5.212 4.119a3.531 3.531 0 0 0 2.437 3.377c1.354.608 1.76 1.013 1.76 1.553 0 .81-1.083 1.216-2.031 1.216a7.373 7.373 0 0 1-3.249-.675l-.474-.2-.474 2.765a11 11 0 0 0 3.858.675c3.588 0 5.957-1.688 5.957-4.254 0-1.418-.88-2.5-2.911-3.376-1.219-.608-1.963-.945-1.963-1.553 0-.54.609-1.08 1.963-1.08a6.221 6.221 0 0 1 2.572.473l.338.135.542-2.634z" fill="#293688"></path><path data-name="Trazado 513" d="M50.403 13.906c-.812 0-1.422.068-1.76.878L43.566 26.06h3.655l.677-2.026h4.332l.406 2.026h3.249l-2.842-12.154zm-1.557 8.1c.2-.608 1.354-3.579 1.354-3.579s.271-.743.474-1.215l.2 1.148s.677 3.038.812 3.714h-2.84z" fill="#3c58bf"></path><path data-name="Trazado 514" d="M51.215 13.906c-.812 0-1.422.068-1.76.878L43.566 26.06h3.655l.677-2.026h4.332l.406 2.026h3.249l-2.842-12.154zm-2.369 8.1c.271-.675 1.354-3.579 1.354-3.579s.271-.743.474-1.215l.2 1.148s.677 3.038.812 3.714h-2.84z" fill="#293688"></path><path data-name="Trazado 515" d="M21.909 22.414l-.338-1.756a9.8 9.8 0 0 0-4.739-5.334l3.046 10.8h3.654l5.485-12.15h-3.656z" fill="#3c58bf"></path><path data-name="Trazado 516" d="M21.909 22.414l-.338-1.756a9.8 9.8 0 0 0-4.739-5.334l3.046 10.8h3.654l5.485-12.15h-2.979z" fill="#293688"></path><path data-name="Trazado 517" d="M12.5 13.906l.609.135c4.332 1.015 7.311 3.588 8.462 6.634l-1.218-5.754c-.2-.812-.812-1.015-1.557-1.015z" fill="#ffbc00"></path><path data-name="Trazado 518" d="M12.5 13.906c4.332 1.015 7.92 3.655 9.071 6.7l-1.151-4.8a1.652 1.652 0 0 0-1.62-1.291z" fill="#f7981d"></path><path data-name="Trazado 519" d="M12.5 13.906c4.332 1.015 7.92 3.655 9.071 6.7l-.812-2.64a2.387 2.387 0 0 0-1.422-1.96z" fill="#ed7c00"></path><g data-name="Grupo 330" fill="#051244"><path data-name="Trazado 520" d="M25.294 22.01l-2.3-2.3-1.083 2.565-.271-1.688a9.794 9.794 0 0 0-4.74-5.327l3.046 10.8H23.6z"></path><path data-name="Trazado 521" d="M31.828 26.059l-2.911-2.978-.542 2.978z"></path><path data-name="Trazado 522" d="M39.79 21.863c.271.271.406.474.338.745 0 .812-1.083 1.218-2.031 1.218a7.358 7.358 0 0 1-3.249-.677l-.474-.2-.473 2.772a10.976 10.976 0 0 0 3.858.677 6.7 6.7 0 0 0 4.942-1.692z"></path><path data-name="Trazado 523" d="M44.04 26.06h3.182l.677-2.111h4.332l.406 2.111h3.249l-1.151-5.137-4.062-4.082.2 1.126s.677 3.167.812 3.871h-2.843c.271-.7 1.354-3.73 1.354-3.73s.271-.774.474-1.267"></path></g></g></svg>
//mastercard    <svg xmlns="http://www.w3.org/2000/svg" width="69" height="41"><defs><filter id="a" x="0" y="0" width="69" height="41" filterUnits="userSpaceOnUse"><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation=".5" result="blur"></feGaussianBlur><feFlood flood-opacity=".161"></feFlood><feComposite operator="in" in2="blur"></feComposite><feComposite in="SourceGraphic"></feComposite></filter></defs><g data-name="Grupo 504"><rect data-name="RectÃ¡ngulo 675" width="66" height="38" rx="4" transform="translate(1.5 .5)" fill="#f4f4f4" filter="url(#a)"></rect><g data-name="Layer 1"><path data-name="RectÃ¡ngulo 671" fill="none" d="M12.5 1.91h43.39V37.5H12.5z"></path><path data-name="Trazado 676" d="M23.244 33.022v-1.774a1.052 1.052 0 0 0-1.111-1.123 1.094 1.094 0 0 0-.993.5 1.037 1.037 0 0 0-.934-.5.934.934 0 0 0-.828.42v-.344h-.615v2.826h.621v-1.56a.662.662 0 0 1 .692-.751c.408 0 .615.266.615.745v1.572h.621v-1.566a.665.665 0 0 1 .692-.751c.42 0 .621.266.621.745v1.572zm9.183-2.821h-1.01v-.857h-.621v.857h-.562v.562h.573v1.3c0 .656.254 1.046.981 1.046a1.442 1.442 0 0 0 .768-.219l-.177-.526a1.135 1.135 0 0 1-.544.16c-.3 0-.408-.189-.408-.473v-1.293h1zm5.243-.071a.833.833 0 0 0-.745.414v-.343h-.609v2.826h.615v-1.59c0-.467.2-.727.591-.727a1 1 0 0 1 .384.071l.189-.591a1.315 1.315 0 0 0-.437-.077zm-7.927.3a2.113 2.113 0 0 0-1.153-.3c-.715 0-1.182.343-1.182.9 0 .461.343.745.975.834l.3.041c.337.047.5.136.5.3 0 .219-.225.343-.644.343a1.5 1.5 0 0 1-.94-.3l-.3.479a2.039 2.039 0 0 0 1.224.367c.816 0 1.289-.384 1.289-.922s-.372-.757-.987-.845l-.3-.041c-.266-.035-.479-.089-.479-.278s.2-.331.538-.331a1.821 1.821 0 0 1 .887.242zm16.466-.3a.833.833 0 0 0-.745.414v-.343h-.609v2.826h.618v-1.59c0-.467.2-.727.591-.727a1 1 0 0 1 .384.071l.189-.591a1.315 1.315 0 0 0-.437-.077zm-7.92 1.471a1.428 1.428 0 0 0 1.507 1.478 1.478 1.478 0 0 0 1.017-.337l-.3-.5a1.241 1.241 0 0 1-.739.254.907.907 0 0 1 0-1.809 1.241 1.241 0 0 1 .739.254l.3-.5a1.478 1.478 0 0 0-1.017-.337 1.428 1.428 0 0 0-1.507 1.478zm5.758 0v-1.4h-.615v.343a1.073 1.073 0 0 0-.887-.414 1.478 1.478 0 1 0 0 2.956 1.073 1.073 0 0 0 .887-.414v.343h.615zm-2.288 0a.848.848 0 1 1 .231.64.854.854 0 0 1-.231-.64zm-7.419-1.478a1.478 1.478 0 1 0 .041 2.956 1.717 1.717 0 0 0 1.173-.384l-.3-.455a1.345 1.345 0 0 1-.822.3.783.783 0 0 1-.845-.692h2.1v-.236a1.343 1.343 0 0 0-1.342-1.478zm0 .55a.7.7 0 0 1 .715.686h-1.482a.727.727 0 0 1 .751-.686zm15.4.934v-2.546h-.591v1.478a1.073 1.073 0 0 0-.887-.414 1.478 1.478 0 1 0 0 2.956 1.073 1.073 0 0 0 .887-.414v.343h.591zm1.026 1a.284.284 0 0 1 .266.168.275.275 0 0 1 0 .219.282.282 0 0 1-.154.148.278.278 0 0 1-.112.024.3.3 0 0 1-.266-.171.278.278 0 0 1 0-.219.287.287 0 0 1 .275-.168zm0 .5a.21.21 0 0 0 .086-.018.222.222 0 0 0 .068-.047.213.213 0 0 0-.068-.343.213.213 0 0 0-.086-.018.222.222 0 0 0-.086.018.216.216 0 0 0-.071.047.214.214 0 0 0 .166.361zm.018-.352a.118.118 0 0 1 .077.024.074.074 0 0 1 .027.062.071.071 0 0 1-.021.053.1.1 0 0 1-.062.027l.086.1h-.068l-.08-.1h-.027v.1h-.056v-.26zm-.065.05v.071h.065a.062.062 0 0 0 .035 0 185.587 185.587 0 0 1 0-.053.062.062 0 0 0-.035 0zm-3.251-1.2a.848.848 0 1 1 .231.64.854.854 0 0 1-.226-.636zm-20.758 0v-1.404h-.615v.343a1.073 1.073 0 0 0-.887-.414 1.478 1.478 0 0 0 0 2.956 1.073 1.073 0 0 0 .887-.414v.343h.615zm-2.288 0a.362.362 0 1 1-.006 0z" fill="#231f20"></path><g data-name="<Group>"><path data-name="RectÃ¡ngulo 672" fill="#ff5f00" d="M29.54 8.664h9.311v16.732H29.54z"></path><path data-name="<Path>" d="M30.132 17.035a10.623 10.623 0 0 1 4.064-8.368 10.641 10.641 0 1 0 0 16.732 10.623 10.623 0 0 1-4.064-8.364z" fill="#eb001b"></path><path data-name="Trazado 677" d="M51.413 17.031a10.641 10.641 0 0 1-17.217 8.365 10.641 10.641 0 0 0 0-16.732 10.641 10.641 0 0 1 17.217 8.365z" fill="#f79e1b"></path><path data-name="Trazado 678" d="M50.393 23.623v-.343h.139v-.071h-.352v.071h.151v.343zm.683 0v-.414h-.106l-.124.3-.124-.3h-.095v.414h.077v-.31l.115.269h.08l.115-.269v.313z" fill="#f79e1b"></path></g></g></g></svg>
//amex          <svg xmlns="http://www.w3.org/2000/svg" width="69" height="41" viewBox="0 0 69 41"><defs><filter id="RectÃ¡ngulo_676" x="0" y="0" width="69" height="41" filterUnits="userSpaceOnUse"><feOffset dy="1" input="SourceAlpha"></feOffset><feGaussianBlur stdDeviation="0.5" result="blur"></feGaussianBlur><feComposite operator="in" in2="blur"></feComposite><feComposite in="SourceGraphic"></feComposite></filter></defs><g id="Grupo_501" data-name="Grupo 501" transform="translate(-643.5 -263.5)"><g transform="matrix(1, 0, 0, 1, 643.5, 263.5)" filter="url(#RectÃ¡ngulo_676)"><rect id="RectÃ¡ngulo_676-2" data-name="RectÃ¡ngulo 676" width="66" height="38" rx="4" transform="translate(1.5 0.5)" fill="#306fc5"></rect></g><g id="Grupo_434" data-name="Grupo 434" transform="translate(655 275)"><path id="Trazado_552" data-name="Trazado 552" d="M74.59,203.291h1.582l-.791-2.013Z" transform="translate(-70.677 -199.408)" fill="#fff"></path><path id="Trazado_553" data-name="Trazado 553" d="M155.946,286.107v.935h2.661v1.007h-2.661v1.079h2.948l1.366-1.51-1.294-1.51Z" transform="translate(-143.549 -275.465)" fill="#fff"></path><path id="Trazado_554" data-name="Trazado 554" d="M349.416,201.278l-.863,2.013h1.654Z" transform="translate(-316.137 -199.408)" fill="#fff"></path><path id="Trazado_555" data-name="Trazado 555" d="M214.138,285.34v-4.1l-1.87,2.014Z" transform="translate(-194.02 -271.102)" fill="#fff"></path><path id="Trazado_556" data-name="Trazado 556" d="M244.468,286.754a.726.726,0,0,0-.791-.647h-1.51V287.4h1.582C244.18,287.4,244.468,287.186,244.468,286.754Z" transform="translate(-220.809 -275.465)" fill="#fff"></path><path id="Trazado_557" data-name="Trazado 557" d="M295.634,287.884a.561.561,0,0,0,.216-.5.4.4,0,0,0-.216-.5,1.4,1.4,0,0,0-.575-.072h-1.438v1.151h1.438A1.4,1.4,0,0,0,295.634,287.884Z" transform="translate(-266.914 -276.091)" fill="#fff"></path><path id="Trazado_558" data-name="Trazado 558" d="M75.895,183.2v.863l-.434-.863h-3.4v.863l-.434-.863H67a4.422,4.422,0,0,0-2.024.432V183.2H61.724v.432a2.093,2.093,0,0,0-1.374-.432H48.709l-.8,1.8-.8-1.8H43.431v.863l-.362-.863H39.888l-1.446,3.379-1.663,3.667-.031.072h3.764l.026-.072.434-1.078h.94l.434,1.15h4.193v-.863l.362.863H49l.361-.863v.863H59.41v-1.87h.145c.144,0,.144,0,.144.216v1.582H64.9v-.431a4.345,4.345,0,0,0,1.952.431h2.169l.434-1.15h1.012l.434,1.15H75.1v-1.078l.651,1.078h3.4V183.2H75.895Zm-24.511,6.04H50.227v-3.955l-.072.165v0l-1.682,3.792H47.407l-1.735-3.955v3.955H43.214l-.506-1.079H40.249l-.506,1.079H38.472l2.139-5.033h1.807l2.024,4.818V184.2h1.916l.034.072h0l.912,1.975.655,1.479.023-.075,1.446-3.451h1.952v5.033Zm4.989-3.955h-2.82v.935H56.3v1.007H53.553v1.007h2.82v1.078H52.324V184.2h4.049v1.078Zm5.157,1.854.007,0a.818.818,0,0,1,.071.085,1.377,1.377,0,0,1,.256.843v.02s0,.007,0,.011,0,0,0,.006c0,.04,0,.08,0,.124v1.007H60.784v-.576a1.7,1.7,0,0,0-.217-1.007.658.658,0,0,0-.213-.145,1.451,1.451,0,0,0-.655-.071H58.4v1.8H57.168V184.2h2.748a2.786,2.786,0,0,1,1.446.216,1.213,1.213,0,0,1,.576,1.118,1.429,1.429,0,0,1-.866,1.327A.97.97,0,0,1,61.53,187.137Zm2.435,2.1H62.736V184.2h1.229Zm14.1,0H76.473l-2.314-3.811v3.164l-.008-.007v.658H72.931v0H71.7l-.434-1.079H68.737l-.434,1.15H66.929a2.167,2.167,0,0,1-2.386-2.516,2.937,2.937,0,0,1,.651-2.014A2.285,2.285,0,0,1,67,184.2h1.157v1.078H67a1.338,1.338,0,0,0-.94.288,1.684,1.684,0,0,0-.361,1.15,1.56,1.56,0,0,0,.361,1.222,1.157,1.157,0,0,0,.868.288h.506l1.663-3.955h1.808l2.025,4.818v-4.817h1.807l2.1,3.523v-3.523h1.23v4.961h0Z" transform="translate(-36.748 -183.198)" fill="#fff"></path><path id="Trazado_559" data-name="Trazado 559" d="M247.036,204.382a.385.385,0,0,0,.056-.077.777.777,0,0,0,.1-.542.409.409,0,0,0-.011-.066c0-.006,0-.011,0-.017h0a.4.4,0,0,0-.218-.245,1.409,1.409,0,0,0-.576-.072h-1.438v1.151h1.438a1.4,1.4,0,0,0,.576-.072.273.273,0,0,0,.059-.043h0Z" transform="translate(-223.299 -201.279)" fill="#fff"></path><path id="Trazado_560" data-name="Trazado 560" d="M169,269.37a2.755,2.755,0,0,0-.359-1.366v-3.236h0v-.216h-3.463a2.046,2.046,0,0,0-.993.431v-.431h-3.307a2.284,2.284,0,0,0-1.438.431v-.431h-5.9v.431a2.782,2.782,0,0,0-1.582-.431h-3.883v.431a2.732,2.732,0,0,0-1.654-.431h-4.314l-1.007,1.079-.935-1.079H133.7v7.263h6.328l1.04-1.04.9,1.04h4.027v-1.654h.36a4.369,4.369,0,0,0,1.654-.216v1.942h3.236v-1.87h.143c.216,0,.216,0,.216.216v1.654h9.779a2.818,2.818,0,0,0,1.654-.432v.432h3.092a3.229,3.229,0,0,0,1.726-.36,2.415,2.415,0,0,0,1.141-1.939c0-.025.006-.05.009-.075l0,0C169,269.463,169,269.417,169,269.37Zm-22.65-.431h-1.438v1.869h-2.363l-1.376-1.582,0,.005-.067-.077-1.582,1.654h-4.6v-5.033h4.674l1.277,1.4.268.293.036-.038,1.51-1.654h3.811a1.866,1.866,0,0,1,1.882.935,2.036,2.036,0,0,1,.06.5C148.435,268.651,147.429,268.939,146.35,268.939Zm7.19-.072a1.632,1.632,0,0,1,.216.935v1.006h-1.222v-.647a1.6,1.6,0,0,0-.216-1.007c-.143-.215-.431-.215-.863-.215h-1.294v1.869h-1.222V265.7h2.732a2.9,2.9,0,0,1,1.438.215,1.273,1.273,0,0,1,.647,1.151,1.432,1.432,0,0,1-.863,1.366A1.226,1.226,0,0,1,153.541,268.867Zm4.962-2.086h-2.8v.935h2.732v1.007H155.7v1.007h2.8v1.079h-4.027V265.7H158.5Zm3.02,4.027h-2.3V269.73h2.3a.607.607,0,0,0,.5-.144.522.522,0,0,0,0-.719.61.61,0,0,0-.432-.144c-1.151-.072-2.517,0-2.517-1.582,0-.719.431-1.51,1.726-1.51h2.373v1.222h-2.229a1.068,1.068,0,0,0-.5.072c-.143.072-.143.216-.143.36,0,.216.143.288.287.359a.911.911,0,0,0,.431.072h.647a1.83,1.83,0,0,1,1.366.432,1.489,1.489,0,0,1,.36,1.079C163.392,270.3,162.745,270.808,161.522,270.808Zm6.184-.5a2.1,2.1,0,0,1-1.51.5h-2.3V269.73h2.3a.606.606,0,0,0,.5-.144.521.521,0,0,0,0-.719.608.608,0,0,0-.431-.144c-1.15-.072-2.517,0-2.517-1.582a1.47,1.47,0,0,1,1.355-1.484,2.693,2.693,0,0,1,.371-.026h2.373v1.222h-2.229a1.064,1.064,0,0,0-.5.072.549.549,0,0,0-.144.36c0,.216.072.288.288.359a.91.91,0,0,0,.432.072h.647a2.245,2.245,0,0,1,.769.115,1.548,1.548,0,0,1,1.006,1.137,1.616,1.616,0,0,1,.022.258A1.462,1.462,0,0,1,167.706,270.3Z" transform="translate(-123.436 -256.139)" fill="#fff"></path></g></g></svg>
// dinners      <svg xmlns="http://www.w3.org/2000/svg" width="69" height="41"><defs><filter id="a" x="0" y="0" width="69" height="41" filterUnits="userSpaceOnUse"><feOffset dy="1"></feOffset><feGaussianBlur stdDeviation=".5" result="blur"></feGaussianBlur><feFlood flood-opacity=".161"></feFlood><feComposite operator="in" in2="blur"></feComposite><feComposite in="SourceGraphic"></feComposite></filter></defs><g data-name="Grupo 500"><rect data-name="RectÃ¡ngulo 677" width="66" height="38" rx="4" transform="translate(1.5 .5)" fill="#f4f4f4" filter="url(#a)"></rect><g data-name="Grupo 435"><path data-name="Trazado 637" d="M28.807 18.263c0 .546.382.6.764.6a2.011 2.011 0 0 0 2.073-2.237 2.134 2.134 0 0 0-2.237-2.292 1.369 1.369 0 0 0-.546.055v3.874zm-.709-3.383c0-.655-.327-.6-.655-.6v-.164h2.073a2.593 2.593 0 0 1 2.837 2.51c0 .709-.436 2.51-2.946 2.51h-2.019v-.164c.436-.055.655-.055.655-.546v-3.547z" fill="#004a97"></path><path data-name="Trazado 638" d="M33.444 14.716a.365.365 0 0 1-.327-.382.328.328 0 0 1 .655 0 .365.365 0 0 1-.327.382m-.764 4.2h.164c.218 0 .327 0 .327-.218v-1.964c0-.327-.109-.382-.382-.491v-.109a5.089 5.089 0 0 0 .764-.273.169.169 0 0 1 .109-.055c.055 0 .055.055.055.109v2.728c0 .218.164.218.382.218h.109v.164H32.68z" fill="#004a97"></path><path data-name="Trazado 639" d="M34.863 16.79c0-.273-.055-.327-.436-.491v-.109c.327-.109.6-.218.928-.327a.053.053 0 0 1 .055.055v.491a2.18 2.18 0 0 1 1.255-.546c.6 0 .818.437.818.982V18.7c0 .218.164.218.382.218h.107v.164h-1.528v-.164h.109c.218 0 .327 0 .327-.218v-1.855a.588.588 0 0 0-.655-.6 1.728 1.728 0 0 0-.818.327V18.7c0 .218.164.218.382.218h.109v.164h-1.526v-.164h.164c.218 0 .327 0 .327-.218v-1.91z" fill="#004a97"></path><path data-name="Trazado 640" d="M39.773 16.899c.164 0 .218-.109.218-.164a.588.588 0 0 0-.6-.655.838.838 0 0 0-.818.818zm-1.255.218v.436c.055.655.491 1.255 1.037 1.255a1.427 1.427 0 0 0 .982-.491l.109.109a1.727 1.727 0 0 1-1.309.818 1.432 1.432 0 0 1-1.364-1.582c0-1.419.928-1.8 1.419-1.8a1.129 1.129 0 0 1 1.2 1.146v.109h-2.073z" fill="#004a97"></path><path data-name="Trazado 641" d="M40.755 18.917h.218c.218 0 .327 0 .327-.218V16.68c0-.218-.273-.273-.382-.327v-.109c.546-.218.818-.382.873-.382s.055 0 .055.109v.655c.164-.273.491-.709.928-.709a.37.37 0 0 1 .382.382c0 .218-.109.382-.327.382s-.218-.164-.491-.164a.632.632 0 0 0-.546.6v1.691c0 .218.164.218.327.218h.382v.164h-1.855v-.273z" fill="#004a97"></path><path data-name="Trazado 642" d="M43.538 18.099c.109.491.382.873.928.873.436 0 .6-.273.6-.491 0-.818-1.582-.546-1.582-1.746a1 1 0 0 1 1.091-.928 1.675 1.675 0 0 1 .818.218l.055.709h-.164a.733.733 0 0 0-.764-.709.5.5 0 0 0-.546.491c0 .818 1.637.6 1.637 1.691 0 .491-.382.982-1.255.982a2.568 2.568 0 0 1-.873-.218l-.055-.818z" fill="#004a97"></path><path data-name="Trazado 643" d="M52.05 15.371h-.164c-.109-.818-.709-1.146-1.528-1.146a2.047 2.047 0 0 0-2.019 2.292 2.326 2.326 0 0 0 2.128 2.455 1.414 1.414 0 0 0 1.419-1.255l.164.055-.164 1.037a4.5 4.5 0 0 1-1.582.382 2.535 2.535 0 0 1-2.728-2.674 2.624 2.624 0 0 1 2.728-2.51 4.5 4.5 0 0 1 1.691.382z" fill="#004a97"></path><path data-name="Trazado 644" d="M52.323 18.917h.109c.218 0 .327 0 .327-.218v-3.983c0-.491-.109-.491-.382-.546v-.109a5.321 5.321 0 0 0 .764-.327.2.2 0 0 1 .164-.055c.055 0 .055.055.055.109v4.965c0 .218.164.218.382.218h.109v.164h-1.528v-.218z" fill="#004a97"></path><path data-name="Trazado 645" d="M56.905 18.699c0 .109.055.109.218.109h.273v.164c-.327.055-.873.164-1.037.218h-.055v-.6a2.078 2.078 0 0 1-1.255.6.778.778 0 0 1-.764-.873v-1.855c0-.164-.055-.382-.437-.382v-.109c.273 0 .818-.055.928-.055.055 0 .055.055.055.218v1.855c0 .218 0 .818.6.818a1.619 1.619 0 0 0 .873-.437v-1.91c0-.164-.327-.218-.6-.273v-.109c.655-.055 1.037-.109 1.091-.109s.055.055.055.109v2.619z" fill="#004a97"></path><path data-name="Trazado 646" d="M58.325 18.263a.77.77 0 0 0 .764.709c.764 0 1.091-.764 1.091-1.364a1.385 1.385 0 0 0-1.146-1.419.951.951 0 0 0-.655.327v1.746zm0-1.91a1.841 1.841 0 0 1 1.091-.491 1.385 1.385 0 0 1 1.309 1.528 1.809 1.809 0 0 1-1.691 1.855 1.611 1.611 0 0 1-.982-.273l-.218.164-.164-.055a9.735 9.735 0 0 0 .109-1.255v-3.055c0-.491-.109-.491-.382-.546v-.109a5.32 5.32 0 0 0 .764-.327.2.2 0 0 1 .164-.055c.055 0 .055.055.055.109v2.51z" fill="#004a97"></path><path data-name="Trazado 647" d="M27.442 23.227h.055c.164 0 .273 0 .273-.218V20.99c0-.218-.164-.218-.273-.218h-.055v-.109h1.2v.109h-.054c-.164 0-.273 0-.273.218v2.019c0 .218.109.218.273.218h.054v.109h-1.145v-.109z" fill="#006ac9"></path><path data-name="Trazado 648" d="M28.642 23.336v-.109h-.054c-.164 0-.327 0-.327-.218V20.99c0-.218.164-.218.327-.218h.054v-.109h-1.145v.109h.054c.164 0 .327 0 .327.218v2.019c0 .218-.164.218-.327.218h-.054v.109h1.145m0 .055h-1.145v-.164h.054c.164 0 .273 0 .273-.218V20.99c0-.218-.109-.218-.273-.218h-.109v-.109h1.2v.109h-.054c-.164 0-.273 0-.273.218v2.019c0 .218.109.218.273.218h.054v.164z" fill="#006ac9"></path><path data-name="Trazado 649" d="M31.316 22.573V21.1c0-.327-.218-.382-.327-.382h-.109v-.109h1.037v.109h-.055c-.164 0-.327.055-.327.491v2.128h-.164L29.352 21.1v1.582c0 .327.055.437.382.437h.055v.109h-.982c.273 0 .327-.164.327-.491V21.1a.314.314 0 0 0-.327-.327v-.109h.764z" fill="#006ac9"></path><path data-name="Trazado 650" d="M31.316 22.573zm0 0zm.055.818h.109v-2.128c0-.491.218-.491.382-.491h.055v-.109h-.982v.109h.055a.363.363 0 0 1 .382.382v1.473l-1.747-1.964h-.764v.109h.055a.41.41 0 0 1 .382.382v1.637c0 .327-.109.491-.382.491h-.055v.109h.982v-.109h-.109c-.327 0-.382-.109-.382-.491v-1.637zm.164.055h-.164l-1.964-2.183v1.582c0 .327.055.436.327.436h.109v.109h-1.036v-.164h.055c.273 0 .327-.164.327-.491v-1.637a.315.315 0 0 0-.327-.327h-.11v-.108h.818l1.691 1.91v-1.419c0-.327-.218-.327-.327-.327h-.055v-.109h1.037v.109h-.054c-.164 0-.327 0-.327.491v2.128z" fill="#006ac9"></path><path data-name="Trazado 651" d="M32.517 20.827c-.273 0-.327.055-.382.327h-.109c0-.109.055-.218.055-.327V20.5h.109c.055.109.109.109.218.109h2.018c.109 0 .218 0 .218-.109h.109c0 .109-.055.218-.055.327v.327l-.109.055c0-.164 0-.382-.273-.382h-.655V22.9c0 .273.109.327.327.327h.055v.109h-1.308v-.109h.055c.218 0 .327 0 .327-.327v-2.073z" fill="#006ac9"></path><path data-name="Trazado 652" d="M34.045 23.392h-1.31v-.164h.055c.218 0 .327 0 .327-.327v-2.073h.055v2.073c0 .327-.109.327-.327.327h-.055v.109h.655a2.238 2.238 0 0 1 .6.055v-.109h-.055a.287.287 0 0 1-.327-.327v-2.073h.655c.273 0 .273.218.327.382l.109-.055v-.327a.409.409 0 0 1 .055-.273h-.055c0 .109-.109.109-.218.109h-2.019c-.109 0-.218 0-.218-.109h-.164v.327c0 .109-.055.218-.055.327h.109c.055-.273.109-.382.382-.327-.273 0-.273.055-.327.327h-.218c0-.109.055-.218.055-.327v-.328h.109c0 .109.109.109.218.109h2.018c.109 0 .164 0 .218-.109h.109c0 .109-.055.218-.055.327v.327h-.162c0-.164 0-.382-.273-.382h-.6v2.073c0 .273.109.327.327.327h.109l-.055.109z" fill="#006ac9"></path><path data-name="Trazado 653" d="M34.863 23.227h.055c.164 0 .273 0 .273-.218V20.99c0-.218-.164-.218-.273-.218h-.055v-.109h1.964v.6h-.109c0-.273-.055-.437-.491-.437h-.546v1.037h.491c.218 0 .273-.109.327-.327h.109v.873h-.109c0-.218-.055-.382-.327-.382h-.491v.928c0 .273.218.273.491.273.491 0 .655-.055.818-.491h.109a2.816 2.816 0 0 0-.109.6h-2.073v-.109z" fill="#006ac9"></path><path data-name="Trazado 654" d="M36.936 23.336c.055-.218.055-.382.109-.6h-.055c-.109.437-.327.491-.818.491-.218 0-.491 0-.491-.273v-.928h.491c.273 0 .273.164.327.382h.109v-.873h-.109a.289.289 0 0 1-.327.327h-.491v-1.037h.546c.382 0 .491.218.491.437h.109v-.546h-1.91v.109h.055c.164 0 .327 0 .327.218v2.02c0 .218-.164.218-.327.218h-.055v.109h1.037a5.93 5.93 0 0 1 .982-.055m0 .055h-2.073v-.164h.055c.164 0 .273 0 .273-.218v-2.019c0-.164-.109-.218-.273-.218h-.055v-.108h1.964v.6l-.109.055c0-.273-.055-.437-.436-.437h-.546v.982h.437c.218 0 .273-.109.273-.327h.109v.873h-.109c0-.218-.055-.382-.273-.382h-.437v.873c0 .218.218.218.437.218.491 0 .655 0 .764-.436l.109.055a2.738 2.738 0 0 1-.109.655z" fill="#006ac9"></path><path data-name="Trazado 655" d="M38.082 21.973h.164a.523.523 0 0 0 .6-.6.515.515 0 0 0-.546-.546h-.218zm-.491-.928c0-.273-.164-.273-.273-.273h-.055v-.109h1.2c.491 0 .928.109.928.709a.808.808 0 0 1-.546.709l.655.982a.365.365 0 0 0 .382.218v.109h-.764a24.225 24.225 0 0 1-.818-1.255h-.273v.818a.287.287 0 0 0 .327.327h.055v.109h-1.2v-.164h.055c.164 0 .273-.055.273-.218v-1.964z" fill="#006ac9"></path><path data-name="Trazado 656" d="M38.301 21.972c.382 0 .6-.109.6-.6a.516.516 0 0 0-.546-.546h-.218v1.146zm-.218 0v-1.2h.218a.572.572 0 0 1 .6.6c0 .491-.218.6-.6.6zm0 .109h.273a9.919 9.919 0 0 0 .818 1.255h.764v-.109a.412.412 0 0 1-.382-.218l-.655-1.037a.692.692 0 0 0 .546-.655c0-.546-.437-.655-.928-.655h-1.2v.109h.055c.109 0 .273 0 .273.327v1.965c0 .164-.164.218-.273.218h-.11v.109h1.2v-.109h-.055c-.164 0-.327 0-.327-.327v-.873zm1.855 1.309h-.764a24.225 24.225 0 0 1-.818-1.255h-.218v.818c0 .273.109.273.327.273h.109v.109h-1.2v-.109h.055c.164 0 .273-.055.273-.218v-1.964c0-.273-.164-.273-.273-.273h-.165v-.108h1.2c.491 0 .928.164.928.709a.808.808 0 0 1-.546.709l.655.982a.365.365 0 0 0 .382.218l.055.109z" fill="#006ac9"></path><path data-name="Trazado 657" d="M42.556 22.573V21.1c0-.327-.218-.382-.327-.382h-.109v-.109h1.037v.109h-.055c-.164 0-.327.055-.327.491v2.128h-.164L40.592 21.1v1.582c0 .327.055.437.382.437h.109v.109h-.982c.273 0 .327-.164.327-.491V21.1c0-.218-.164-.327-.382-.327h-.054v-.109h.764z" fill="#006ac9"></path><path data-name="Trazado 658" d="M42.556 22.573zm0 0zm.055.818h.109v-2.128c0-.491.218-.491.382-.491h.055v-.109h-.982v.109h.055a.363.363 0 0 1 .382.382v1.473l-1.746-1.964h-.764v.109h.055a.41.41 0 0 1 .382.382v1.637c0 .327-.109.491-.382.491h-.055v.109h.982v-.109h-.055c-.327 0-.382-.109-.382-.491v-1.637zm.164.055h-.164l-1.964-2.183v1.582c0 .327.055.436.327.436h.109v.109h-1.037v-.164h.055c.273 0 .327-.164.327-.491v-1.637a.315.315 0 0 0-.327-.327h-.109v-.108h.818l1.691 1.91v-1.419c0-.327-.218-.327-.327-.327h-.109v-.109h1.037v.109h-.055c-.164 0-.327 0-.327.491v1.745a.809.809 0 0 1 .055.382z" fill="#006ac9"></path><path data-name="Trazado 659" d="M44.357 21.1l-.382 1.091h.709zm-.546 1.691a.775.775 0 0 0-.109.327c0 .109.164.109.273.109h.055v.109h-.928v-.109a.346.346 0 0 0 .327-.273l.6-1.8.164-.491c.109-.055.273-.109.382-.164h.055c0 .055 0 .055.055.109l.764 2.073c.055.109.109.273.164.382a.252.252 0 0 0 .273.164v.109H44.74v-.109h.055c.109 0 .218 0 .218-.109a2.364 2.364 0 0 1-.055-.273l-.164-.436h-.873z" fill="#006ac9"></path><path data-name="Trazado 660" d="M44.357 21.1zm-.327 1.091h.709l-.382-1.091zm-.055 0l.382-1.146.382 1.146zm.764 1.146h1.091v-.109a.3.3 0 0 1-.273-.164.636.636 0 0 1-.109-.382l-.709-2.019c0-.055 0-.055-.055-.109a1.817 1.817 0 0 1-.327.164 1.734 1.734 0 0 1-.164.491l-.6 1.8a.41.41 0 0 1-.382.273v.109h.818v-.109c-.109 0-.327 0-.327-.164a2.146 2.146 0 0 1 .109-.327l.109-.436h.928l.164.436a.593.593 0 0 1 .055.273c0 .109-.164.109-.273.109v.164zm1.146.055h-1.146v-.164h.055c.109 0 .218 0 .218-.109a2.363 2.363 0 0 1-.055-.273l-.164-.436h-.873l-.109.382a.922.922 0 0 0-.109.273c0 .109.164.109.273.109h.055v.109h-.928v-.055a.368.368 0 0 0 .327-.218l.6-1.8.164-.491a1.817 1.817 0 0 0 .327-.164h.109c0 .055 0 .055.055.109l.764 2.019a2.659 2.659 0 0 0 .164.382c.055.109.109.164.218.164h.055v.164z" fill="#006ac9"></path><path data-name="Trazado 661" d="M46.048 20.827c-.273 0-.327.055-.382.327h-.109c0-.109.055-.218.055-.327V20.5h.109c.055.109.109.109.218.109h2.018c.109 0 .218 0 .218-.109h.109c0 .109-.055.218-.055.327v.327l-.109.055c0-.164-.055-.382-.273-.382h-.655V22.9c0 .273.109.327.327.327h.055v.109h-1.309v-.109h.055c.218 0 .327 0 .327-.327v-2.073z" fill="#006ac9"></path><path data-name="Trazado 662" d="M47.576 23.392h-1.309v-.164h.055c.218 0 .273 0 .327-.327v-2.073h.055v2.073c0 .327-.109.327-.327.327h-.056v.109h.655a2.238 2.238 0 0 1 .6.055v-.109h-.055a.287.287 0 0 1-.327-.327v-2.073h.655c.273 0 .273.218.327.382l.109-.055v-.327a.409.409 0 0 1 .055-.273h-.055c0 .109-.109.109-.218.109h-2.019c-.109 0-.164 0-.218-.109h-.055v.327c0 .109-.055.218-.055.327h.109c.055-.273.109-.382.382-.327-.273 0-.273.055-.327.327h-.163c0-.109.055-.218.055-.327v-.328h.109c0 .109.109.109.218.109h2.018c.109 0 .164 0 .218-.109h.109c0 .109-.055.218-.055.327v.327l-.164.055c0-.164 0-.382-.273-.382h-.6v2.073c0 .273.109.327.327.327h.109l-.218.055z" fill="#006ac9"></path><path data-name="Trazado 663" d="M48.394 23.227c.218 0 .327 0 .327-.218V20.99c0-.218-.164-.218-.273-.218h-.054v-.109h1.2v.109h-.055c-.164 0-.273 0-.273.218v2.019c0 .218.164.218.273.218h.055v.109h-1.146v-.109z" fill="#006ac9"></path><path data-name="Trazado 664" d="M49.595 23.336v-.109h-.055c-.164 0-.327 0-.327-.218V20.99c0-.218.164-.218.327-.218h.055v-.109h-1.146v.109h.055c.164 0 .327 0 .327.218v2.019c0 .218-.164.218-.327.218h-.055v.109h1.146m0 .055h-1.146v-.164h.055c.164 0 .273 0 .273-.218V20.99c0-.164-.109-.218-.273-.218h-.055v-.109h1.2v.109h-.055c-.164 0-.273 0-.273.218v2.019c0 .164.109.218.273.218h.055l-.055.164z" fill="#006ac9"></path><path data-name="Trazado 665" d="M51.232 23.228c.764 0 .873-.655.873-1.255 0-.546-.327-1.255-.928-1.255-.709 0-.873.6-.873 1.146-.055.709.273 1.364.928 1.364m-.055-2.619a1.347 1.347 0 0 1 1.473 1.364 1.434 1.434 0 0 1-1.473 1.473 1.39 1.39 0 0 1-1.473-1.419 1.422 1.422 0 0 1 1.473-1.419" fill="#006ac9"></path><path data-name="Trazado 666" d="M50.25 21.863c0-.546.218-1.146.928-1.146.655 0 .982.709.982 1.255s-.109 1.255-.928 1.255c.764 0 .873-.655.873-1.2s-.327-1.255-.928-1.255c-.709 0-.873.6-.928 1.091.055.709.327 1.364.982 1.364-.655.055-.982-.655-.982-1.364m-.546.164a1.467 1.467 0 0 1 1.473-1.473 1.542 1.542 0 0 0-1.473 1.473 1.41 1.41 0 0 0 1.473 1.364 1.434 1.434 0 0 0 1.473-1.473 1.337 1.337 0 0 0-1.473-1.31 1.426 1.426 0 0 1 1.528 1.364 1.448 1.448 0 0 1-1.473 1.528 1.48 1.48 0 0 1-1.528-1.473" fill="#006ac9"></path><path data-name="Trazado 667" d="M55.269 22.573V21.1c0-.327-.218-.382-.327-.382h-.109v-.109h1.037v.109h-.055c-.164 0-.327.055-.327.491v2.128h-.164L53.305 21.1v1.582c0 .327.055.437.382.437h.055v.109h-.982c.273 0 .327-.164.327-.491V21.1a.314.314 0 0 0-.327-.327h-.055v-.109h.764z" fill="#006ac9"></path><path data-name="Trazado 668" d="M55.269 22.573zm0 0zm.055.818h.109v-2.128c0-.491.218-.491.382-.491h.055v-.109h-.982v.109h.055a.363.363 0 0 1 .382.382v1.473l-1.746-1.964h-.764v.109h.055a.41.41 0 0 1 .382.382v1.637c0 .327-.109.491-.382.491h-.055v.109h.982v-.109h-.055c-.327 0-.382-.109-.382-.491v-1.637zm.164.055h-.164l-1.965-2.183v1.582c0 .327.055.436.327.436h.109v.109h-1.036v-.164h.055c.273 0 .327-.164.327-.491v-1.637a.315.315 0 0 0-.327-.327h-.055v-.108h.818l1.691 1.91v-1.419c0-.327-.218-.327-.327-.327h-.109v-.109h1.037v.109h-.055c-.164 0-.327 0-.327.491v2.128z" fill="#006ac9"></path><path data-name="Trazado 669" d="M57.07 21.1l-.382 1.091h.764zm-.546 1.691a.775.775 0 0 0-.109.327c0 .109.164.109.273.109h.055v.109h-.928v-.109a.346.346 0 0 0 .327-.273l.6-1.8.164-.491c.109-.055.273-.109.382-.164h.055c0 .055 0 .055.055.109l.709 2.019c.055.109.109.273.164.382.055.218.164.218.273.218v.109h-1.146v-.109h.055c.109 0 .218 0 .218-.109a2.366 2.366 0 0 1-.055-.273l-.164-.436h-.873z" fill="#006ac9"></path><path data-name="Trazado 670" d="M57.07 21.1zm-.327 1.091h.655l-.327-1.037zm-.055 0l.382-1.146.382 1.146zm.764 1.146h1.091v-.109a.3.3 0 0 1-.273-.164c-.055-.109-.109-.273-.164-.382l-.709-2.019c0-.055 0-.055-.055-.109a1.817 1.817 0 0 1-.327.164 1.734 1.734 0 0 1-.164.491l-.6 1.8a.4.4 0 0 1-.327.273v.109h.818v-.109c-.109 0-.327 0-.327-.164a2.146 2.146 0 0 1 .109-.327l.109-.436h.928l.164.436a.593.593 0 0 1 .055.273c0 .109-.164.109-.273.109v.164zm1.146.055h-1.146v-.164h.055c.109 0 .218 0 .218-.109a2.362 2.362 0 0 1-.055-.273l-.164-.436h-.873l-.109.382a.922.922 0 0 0-.109.273c0 .109.164.109.273.109h.055v.109h-.928v-.055a.368.368 0 0 0 .327-.218l.6-1.8.164-.491c.109-.055.273-.109.382-.164h.109c0 .055 0 .055.055.109l.709 2.019a2.659 2.659 0 0 0 .164.382c.055.109.109.164.218.164h.055v.164z" fill="#006ac9"></path><path data-name="Trazado 671" d="M59.58 23.009a.2.2 0 0 0 .218.218h.491a.459.459 0 0 0 .382-.218.924.924 0 0 0 .109-.273h.109l-.164.655h-2.073v-.164h.055c.164 0 .273 0 .273-.273v-2.019c0-.218-.164-.218-.273-.218h-.055v-.108h1.2v.109h-.109c-.164 0-.273 0-.273.218v2.073z" fill="#006ac9"></path><path data-name="Trazado 672" d="M60.725 23.336c.055-.218.109-.436.164-.6h-.055c0 .109-.055.164-.109.273a.459.459 0 0 1-.382.218h-.491c-.109 0-.273-.055-.273-.218V20.99c0-.218.109-.218.273-.218h.055v-.109h-1.2v.109h.055c.164 0 .327 0 .327.218v2.019c0 .273-.164.273-.327.273h-.056v.109h1.037a5.929 5.929 0 0 1 .982-.055m.055.055h-2.074v-.164h.055c.164 0 .273 0 .273-.218V20.99c0-.164-.109-.218-.273-.218h-.055v-.109h1.2v.109h-.109c-.164 0-.273 0-.273.218v2.019c0 .164.109.164.218.218h.491a.552.552 0 0 0 .382-.218c.055-.109.109-.164.109-.273h.109a1.343 1.343 0 0 1-.055.655z" fill="#006ac9"></path><path data-name="Trazado 673" d="M60.78 20.936c.109 0 .109-.055.109-.109a.191.191 0 0 0-.055-.109h-.055v.218zm-.109.218c.055 0 .055 0 .055-.055v-.327c0-.055 0-.055-.055-.055h.218c.055 0 .164.055.164.109a.117.117 0 0 1-.109.109l.055.109c.055.055.055.109.109.109h-.055c-.055 0-.055-.055-.164-.164h-.055v.109c0 .055 0 0 .055.055h-.218zm.164.109a.327.327 0 1 0-.327-.327c.055.164.164.327.327.327m0-.709a.43.43 0 0 1 .436.437c0 .273-.164.382-.436.382a.389.389 0 0 1-.436-.382.469.469 0 0 1 .436-.437" fill="#006ac9"></path><path data-name="Trazado 633" d="M10.446 19.266a3.866 3.866 0 0 0 2.51 3.656V15.61a3.866 3.866 0 0 0-2.51 3.656z" fill="#006ac9"></path><path data-name="Trazado 634" d="M15.739 15.61v7.311a3.921 3.921 0 0 0 2.51-3.656 3.867 3.867 0 0 0-2.51-3.655z" fill="#004a97"></path><g data-name="Grupo 430"><path data-name="Trazado 636" d="M17.54 12.5h-3.165a6.654 6.654 0 0 0-6.82 6.82 6.765 6.765 0 0 0 6.82 6.711h3.165a6.773 6.773 0 1 0 0-13.531zm-3.165 12.931a6.193 6.193 0 1 1 6.22-6.166 6.241 6.241 0 0 1-6.22 6.166z" fill="#023563"></path></g><path data-name="Trazado 674" d="M23.378 18.229a6.58 6.58 0 0 0-1.91-4.583A7.512 7.512 0 0 0 17.54 12.5h-3.165a6.654 6.654 0 0 0-6.82 6.82 6.74 6.74 0 0 0 1.691 4.42 9.094 9.094 0 0 0 3.819 1.528 6.331 6.331 0 1 1 1.473.109h.273c4.693.054 8.567-3.165 8.567-7.148z" fill="#004a97"></path><path data-name="Trazado 675" d="M14.32 12.5a6.654 6.654 0 0 0-6.82 6.82 6.41 6.41 0 0 0 1.637 4.31l.164.164a9.622 9.622 0 0 0 3.765 1.528 6.331 6.331 0 1 1 1.473.109h.273a4.13 4.13 0 0 0 .818-.055 7.258 7.258 0 0 0 5.238-8.4 7.587 7.587 0 0 0-2.455-4.42 4.129 4.129 0 0 0-.818-.055z" fill="#006ac9"></path></g></g></svg>












Al parecer se usará otra solucion al tema de la pagina de opinion de Peru21
(para q salga el nombre y url del autor de la nota) será mediante css activando y reasignando
los datos ocultos en el widget.




^\/blog[s]?\/((?![0-9]+(?=$|\/|\?))[\w\d-]+?)(?:\/)?([0-9]*)?\/?$       ///resolver blogs lista autor ^\/blog[s]?\/([\w\d-]+?)\/([0-9]*)?\/?$
^\/blog[s]?\/((?![0-9]+(?=$|\/|\?))[\w\d-]+?)(?:\/)?([0-9]*)?\/?$

Sol 
^\/blog[s]?\/((?![0-9]+(?=$|\/|\?))[\w\d-]+?)(?:\/)([0-9]*)?\/?$

^\/blog[s]?\/((?!\d+(?=$|\/|\?)).+?(?=$|\/|\?))(?:\/)?(\d*?(?=$|\/|\?))\/?$
^\/blog[s]?\/((?!\d+(?=$|\/|\?)).+?(?=$|\/|\?))(?:\/)?(\d*?(?=$|\/|\?))        actual en sandbox


 
                                                                       // https://regex101.com/

http://blogs.gestion.pe/disrupcion-en-la-nube/wp-admin/index.php














const dispatch={};
const connect =(value1, value2)=>{
  console.log(value1);
  console.log(value2);
  return (componentes)=>{
    const result =`${componentes}-${value1()*value2()}`;
console.log(result);
return result;
  }
}
const mapStateToProps=dispatch=>34;
const mapDispatchToProps= dispatch=>8;
const componenteConectado=connect(mapStateToProps,mapDispatchToProps)('bunda');









//12-19 /home/usuario/arc/components/features/stories-lists/stories-news/_dependencies/custom-fields.js

  link: PropTypes.oneOf(['author', 'seccion']).tag({
    name: 'Indicar Enlace Superior de nota',
    labels: {
      author: 'Autor',
      seccion: 'Sección',
    },
    defaultValue: 'seccion',
  }),  


// 27 y luego 100   /home/usuario/arc/components/features/stories-lists/stories-news/default.jsx

link,

// 44  /home/usuario/arc/components/global-components/story-new.jsx
 link,


// 54 -62  /home/usuario/arc/components/global-components/story-new.jsx
 { link && link === 'author' ?
            <a href={authorLink} className={classes.section}>
              {author}
            </a>
             : 
            <a href={primarySectionLink} className={classes.section}>
                {primarySection}
            </a>
           }-




Cambiar el nombre de seccion por el nombre del autor de la Nota en la landing de Opinión

          ${ link && link === 'author' ?
            <a href={authorLink} className={classes.section}>
              {author}
            </a>
             : 
             <a href={primarySectionLink} className={classes.section}>
             {primarySection}
           </a>
      }


      
0011 0147 0200358732
011 147 000200358732 -62

MEJVXALTRRBJTPOK4WSTTFIPCM



deborass
Débora Dongo
Soria Saito



extraordinary-story/grid
flujo para agregar un nuevo programa de p21tv
1ro se crea la seccion dentro de la seccion p21tv, 
    se agrega sus imagen de cabecera 1084 x 174 creo 
2do se agregan videos a la seccion creada (para q no salga en blanco su landing)
3ro se agrega al menu el item creado en  y para añadirla a la hamburguesa del
     landing de p21tv, tambien en sites te vas a la pestaña "navegation"
         y filtas por "diario peru21" y el api "tv-menu-default" y jalas 
         del listado de la derecha al listado de la izquierda el nuevo 
         programa que quieres agregar al menu 
4to Si se quiere añadir el item al widget de la portada, simplemente se selecciona el
widget y se edita en la posicion del orden en el que se quiere agregar, tener en
cuenta  q te pedira la url de la nueva seccion y jalara por defecto sus campos (titulo e imagen)




<div class="banner">
<a href="https://trome.pe/horoscopo">
 <img 
    alt="Horóscopo" 
    data-type="src" 
    class="ui-lazy" 
    src="https://assets.trome.pe/img/default_trome.jpg" 
    data-src="https://cde.2.trome.pe/ima/0/1/2/2/6/1226316.jpg" 
    height="100px">
</a> 
</div>









10 x 176.68
3 x 51

El widget no soporta ningun script de dazn que no tenga como parametro  "videoid" 
los scripts otorgados son scripts de canales tales como

Fútbol internacional
<script src="//player.daznservices.com/player.js#8723ad040ac67c58377eb34311.1pnawydbt7xx01ozn9dz9yw3y8" async></script>
Fútbol sudamericano
<script src="//player.daznservices.com/player.js#48723de66081e7e8b7c69cba76.1pnawydbt7xx01ozn9dz9yw3y8" async></script>
Superliga Argentina
<script src="//player.daznservices.com/player.js#ff707bcc5de6fe7b1d6891461d.1pnawydbt7xx01ozn9dz9yw3y8" async></script>
Liga de España
<script src="//player.daznservices.com/player.js#aaa1cb4e9c40607c0554b235ac.1pnawydbt7xx01ozn9dz9yw3y8" async></script>

 los cuales no tienen este parametro en la url del script.
 Por ello es necesario agregar este filtro en los desarrollos de tal manera que los considere




<script src="//player.daznservices.com/player.js#da2e2f66a6ec11067e28aab239.1ch0fefkg2s4u1frfo5j7o5rh4$videoid=64ypfbljahe61xb1clrhusi9k" async></script>

//player.daznservices.com/player.js#da2e2f66a6ec11067e28aab239.1ch0fefkg2s4u1frfo5j7o5rh4$videoid=64ypfbljahe61xb1clrhusi9k



<script src="//player.daznservices.com/eplayer.js
    #48723de66081e7e8b7c69cba76.1pnawydbt7xx01ozn9dz9yw3y8" async=""></script>

<script src="//player.daznservices.com/player.js
    #da2e2f66a6ec11067e28aab239.1ch0fefkg2s4u1frfo5j7o5rh4
    $videoid=64ypfbljahe61xb1clrhusi9k" async></script>




//video publimetro de gerrero 
<script src="//player.performgroup.com/eplayer.js#48723de66081e7e8b7c69cba76.1pnawydbt7xx01ozn9dz9yw3y8" async></script>
//aumenta tiempo
<script src="//player.daznservices.com/eplayer.js#48723de66081e7e8b7c69cba76.1pnawydbt7xx01ozn9dz9yw3y8$videoid=64ypfbljahe61xb1clrhusi9k" async></script>






<script src="https://player.daznservices.com/player.js#aaa1cb4e9c40607c0554b235ac.1pnawydbt7xx01ozn9dz9yw3y8" async></script>



GESTION
La portada tiene su propio mapa de posiciones en la que se establece cuales corresponden a 
publicidad, cuales a notas premium (paga) y cuales a notas simples, por tanto no se podria
ubicar una nota premiun en un espacio normal y viceversa.y, aunque el sistema accede. no habria
consistencia al momento de navegar en el caso de un espacio premium dado q al posicionar 
una nota premium en un espacio normal, (no se va a pintar el icono de plus g)




Observando las funcionalidades de arc para el tema de  la busqueda 
la logica es la siguiente:

Arc tiene la funcionalidad de hacer plantillas estas plantillas son usadas basicamente
para responder  a urls que tienen parametros por consumir, como es el caso en la 
busqueda. La busqueda tiene como primer parametro el termino a buscar,
este administrador de rutas se configura en los resolvers, en los cuales se 
identifican los parametros en la plantilla  a usar y se resuelve el uso del 
"recurso del contenido" que, junto a los parametros muestran el contenido propio que se desea.
para el caso de la busqueda, el content source, es "story-feed-by-search".

Al ser usado un source propio del core de ARC, no seria posible añadir a las busquedas, 
a menos que se toque este source del core de ARC y se añadan a la evaluacion tambien el servicio
de los blogs o tambien que se puedan migrar  los blogs como notas de ARC.


Para el tema del orden:
Observando la funcionalidad encontrada, se usa un content source (get-user-blog-and-posts)
que brinda la información
de los ultimos 5 blogs que se publicaron, con orden de llegada

Se podria crear un componente que destaque blogs, y de la posibilidad de seleccionar al 
bloguero  y por defecto nos muestra su  ultimo articulo 
(usando el content source: "get-user-and-posts-by-blog-path").
al destacar 5  indicando 5 nombres de blogs, ya completariamos el widget que funciona 
como separador blogs, con la salvedad que guarda relacion con los destaques y ya no con el 
orden de publicado.

en un siguiente desarrollo y basandonos del anterior, se podria definir manualmente tambien (destaque)
la nota especifica del blog seleccionado (no necesariamente la ultima publicada).
tambien con la posibilidad de destacar 5.
 
 
 
 
 buenos dias este es el listado inicial sobre gestion :
-             NO se pueden encontrar con el buscador de gestión.pe.   
                     <probe el buscador y si funciona/>
-             NO aparecen en el flujo de Últimas Noticias.
                     <q no aparecen?, las ultimas noticias?/ >
-             NO se están contando como páginas vistas para el sign y pay Wall. 
                     <???>
-              NO podemos cerrarlos para Plus G en forma individual o grupal. 
                     <cerrar q? las notas?/>
-              NO podemos ordenarlos en la portada en el espacio de firmas con orden de importancia.
                    <entiendo que se quiere tener control del orden de las firmas del widget q sale en la portada
                    de gestion/>
algunos puntos no se pueden hacer por la logica del flujo  como el ultimo punto

pero igual validemos y solventemos los puntos que si se pueden atender
recordar crear solicitud de servicio historia de usuario y tarea
y cerrarlas al terminar
 

en el ultimo punto , es asi ! quieren tener el control de los blog en el espacio de firma
es decir, quieren manejar el orden de los blogs , actualmente el orden lo define la actualizacion
todos estos puntos estan relacionado a los blogueros
es decir, el primer punto es el buscador de gestion.pe para los blogueros
-             NO se pueden encontrar con el buscador de gestión.pe.
                   los bogueros-             NO aparecen en el flujo de Últimas Noticias.
                   <q no aparecen?, las ultimas noticias?/ >
-             NO se están contando como páginas vistas para el sign y pay Wall.
                   <???>
-              NO podemos cerrarlos para Plus G en forma individual o grupal.
                   <cerrar q? las notas?/>
-              NO podemos ordenarlos en la portada en el espacio de firmas con orden de importancia.
                  <entiendo que se quiere tener control del orden de las firmas del widget q sale en la portada
                  de gestion/>
NO se están contando como páginas vistas para el sign y pay Wall.
                 La entrada a los blog no se estan contando para el control de la valla
-              NO podemos ordenarlos en la portada en el espacio de firmas con orden de importancia.
                 el orden de los blogueros , actualmente se maneja por actualizacion
si me explique mejor ????











 http://blogs.gestion.pe/mas-alla-del-efectivo/wp-content/uploads/sites/165/2018/05/Foto-Felipe-Rinco%CC%81n-126x126.jpg
 http://blogs.gestion.pe/mas-alla-del-efectivo/wp-content/uploads/sites/165/2018/05/Foto-Felipe-Rinco%CC%81n-126x126.jpg
 https://gestion.pe/resizer/SClFcKbhxMAFUD7OGVEKhfiS7Aw=/125x125/smart/blogs.gestion.pe/mas-alla-de-efectivo/wp-content/uploads/sites/165/2018/05/Foto-Felipe-Rinco%CC%81n-126x126.jpg
 

https://gestion.pe/resizer/SClFcKbhxMAFUD7OGVEKhfiS7Aw=/125x125/smart/
https://gestion.pe/resizer/1oMA6p_E3rfGr8jWL2MTyGWCBNs=/125x125/smart/blogs.gestion.pe/herejias-economicas/wp-content/uploads/sites/128/2019/08/herejias-economicas.jpg


 npm install --save-dev @arc-fusion/cli@latest

// api para obtener los datos de menus configurados
https://elcomercio-elcomercio-sandbox.cdn.arcpublishing.com
/pf/api/v3/content/fetch/navigation-by-hierarchy?query=%7B"hierarchy"%3A"navbar-default"%7D&filter=%7Bchildren%7B_id%2Cchildren%7B_id%2Cchildren%7B_id%2Cchildren%7B_id%2Cdisplay_name%2Cname%2Curl%7D%2Cdisplay_name%2Cname%2Curl%7D%2Cdisplay_name%2Cname%2Curl%7D%2Cdisplay_name%2Cname%2Curl%7D%7D&d=$LATEST&_website=elcomercio

http://localhost/pf/?_website=elcomercio

contraseña arc
        url: https://arcpublishing-elcomercio.okta.com
    usuario: vastahuaman@rmgperustaff.com
 contraseña: tbY64SEeJY8KuwZ

 {
                "date": "2019-09-03T23:45:21+02:00",
                "metadata": {
                    "tournament_name": "WTA 125K New Haven",
                    "loser_name": "Katherine Sebov",
                    "tournament_round_name": "round_of_64",
                    "tournament_type": "women singles",
                    "winner_name": "Danielle Lao",
                    "match_start_time": "2019-09-03 21:02",
                    "players_tags": "Danielle_Lao Katherine_Sebov",
                    "tournament_city": "New Haven"
                },
                "author": "Narrativa",
                "_rev": "1-a1722b373e12fa8a09c9727e8d9e395c",
                "language": "ES",
                "title": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven",
                "section1": "deportes",
                "section2": "tenis",
                "content": "  <p>La jugadora estadounidense <strong>Danielle Lao</strong>, número 174 de la WTA, ganó en dos horas y veintiocho minutos por <strong>3-6, 6-4 y 6-2</strong> a la tenista canadiense <strong>Katherine Sebov</strong>, número 200 de la WTA, en los treintaidosavos de final del torneo de <strong>New Haven</strong>. Con este resultado, seguiremos viendo a la vencedora del partido en la siguiente fase del torneo de <strong>New Haven</strong>, los dieciseisavos de final.</p> <p>La celebración del torneo de <strong>New Haven</strong> (<strong>WTA 125K New Haven</strong>) se produce desde el 2 hasta el 8 de septiembre sobre pista dura al aire libre. En esta competición participan un total de 50 jugadoras. De todas las aspirantes, un total de 48 llegan a la fase final entre las que se clasifican directamente, las ganadoras de las rondas previas a la final del torneo y las jugadoras invitadas.</p>",
                "section3": "cha",
                "picurl": "https://4i2g925ohj.execute-api.eu-west-3.amazonaws.com/pro/tennis?set1sideA=6&set2sideA=4&set3sideA=2&set4sideA=&set5sideA=&set1sideB=3&set2sideB=6&set3sideB=6&set4sideB=&set5sideB=&sideA=K.+Sebov+%28200%29&sideB=D.+Lao+%28174%29&tournament=WTA+125K+New+Haven&stadiumanddate=Pista+3+-+martes+3+septiembre&surface=hard&round=Individual+Femenino+%C2%B7+Treintaidosavos+de+final&sgl=True&winner=sideB&client=MAD&gender=wta",
                "metatitle": "Danielle Lao - Katherine Sebov: Resultado, resumen y estadísticas en directo del partido del WTA 125K New Haven",
                "subtitle": "Conocemos los detalles de los treintaidosavos de final del torneo de New Haven (Estados Unidos)",
                "_id": "88851c9668d6133f22e7eadc722b00bd",
                "id": "TENNIS_2019-09-03_WTA_19345358_MAD_ES_1",
                "metadesc": "Todos los datos y el resultado al minuto del partido entre Danielle Lao - Katherine Sebov del WTA 125K New Haven 2019",
                "tag": "Tennis,WTA 125K New Haven,Danielle Lao,Katherine Sebov,New Haven"
            },


 {
        "nid": "TENNIS_2019-09-03_WTA_19345358_MAD_ES_1",
        "titulo": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven",
        "seo_titulo": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven",
        "seo_descripcion": "Conocemos los detalles de los treintaidosavos de final del torneo de New Haven (Estados Unidos)",
        "seo_etiquetas": "Tennis,WTA 125K New Haven,Danielle Lao,Katherine Sebov,New Haven",
        "sign_wall": "yes",
        "instant_article": "yes",
        "comments": "allowed",
        "bajada": "Conocemos los detalles de los treintaidosavos de final del torneo de New Haven (Estados Unidos)",
        "tipo": "**** TIPO ****",
        "autor": "Narrativa",
        "fecha_publicacion": "2019-09-03T23:45:21+02:00",
        "media": [
            {
                "type": "image",
                "ruta": "https://4i2g925ohj.execute-api.eu-west-3.amazonaws.com/pro/tennis?set1sideA=6&set2sideA=4&set3sideA=2&set4sideA=&set5sideA=&set1sideB=3&set2sideB=6&set3sideB=6&set4sideB=&set5sideB=&sideA=K.+Sebov+%28200%29&sideB=D.+Lao+%28174%29&tournament=WTA+125K+New+Haven&stadiumanddate=Pista+3+-+martes+3+septiembre&surface=hard&round=Individual+Femenino+%C2%B7+Treintaidosavos+de+final&sgl=True&winner=sideB&client=MAD&gender=wta",
                "name": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven",
                "thumb": "https://4i2g925ohj.execute-api.eu-west-3.amazonaws.com/pro/tennis?set1sideA=6&set2sideA=4&set3sideA=2&set4sideA=&set5sideA=&set1sideB=3&set2sideB=6&set3sideB=6&set4sideB=&set5sideB=&sideA=K.+Sebov+%28200%29&sideB=D.+Lao+%28174%29&tournament=WTA+125K+New+Haven&stadiumanddate=Pista+3+-+martes+3+septiembre&surface=hard&round=Individual+Femenino+%C2%B7+Treintaidosavos+de+final&sgl=True&winner=sideB&client=MAD&gender=wta",
                "title": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven",
                "description": "Danielle Lao consigue clasificarse para los dieciseisavos de final del torneo de New Haven"
            }
        ],
        "tags": [
            {
                "slug": "Tennis",
                "titulo": "Tennis"
            },
            {
                "slug": "WTA 125K New Haven",
                "titulo": "WTA 125K New Haven"
            },
            {
                "slug": "Danielle Lao",
                "titulo": "Danielle Lao"
            },
            {
                "slug": "Katherine Sebov",
                "titulo": "Katherine Sebov"
            },
            {
                "slug": "New Haven",
                "titulo": "New Haven"
            }
        ],
        "contenido_json": [
            {
                "type": "parrafo",
                "data": "<p>La jugadora estadounidense <strong>Danielle Lao</strong>, número 174 de la WTA, ganó en dos horas y veintiocho minutos por <strong>3-6, 6-4 y 6-2</strong> a la tenista canadiense <strong>Katherine Sebov</strong>, número 200 de la WTA, en los treintaidosavos de final del torneo de <strong>New Haven</strong>. Con este resultado, seguiremos viendo a la vencedora del partido en la siguiente fase del torneo de <strong>New Haven</strong>, los dieciseisavos de final.</p> "
            },
            {
                "type": "parrafo",
                "data": "<p>La celebración del torneo de <strong>New Haven</strong> (<strong>WTA 125K New Haven</strong>) se produce desde el 2 hasta el 8 de septiembre sobre pista dura al aire libre. En esta competición participan un total de 50 jugadoras. De todas las aspirantes, un total de 48 llegan a la fase final entre las que se clasifican directamente, las ganadoras de las rondas previas a la final del torneo y las jugadoras invitadas.</p>"
            }
        ],
        "seccion": {
            "nombre": "tenis",
            "id": "",
            "parent_id": "",
            "url": "",
            "sitio": "deportes"
        },
        "secciones": [
            {
                "nombre": "tenis",
                "id": "",
                "parent_id": "",
                "url": "",
                "sitio": "deportes"
            }
        ]
    },




https://ecodigital.com.pe/projects/suad-gesac/time_entries
https://ecodigital.com.pe/projects/suad-pp/time_entries?utf8=%E2%9C%93&set_filter=1&sort=spent_on%3Adesc&f%5B%5D=spent_on&op%5Bspent_on%5D=*&f%5B%5D=user_id&op%5Buser_id%5D=%3D&v%5Buser_id%5D%5B%5D=me&f%5B%5D=&c%5B%5D=spent_on&c%5B%5D=user&c%5B%5D=activity&c%5B%5D=issue&c%5B%5D=comments&c%5B%5D=hours&c%5B%5D=issue.status&group_by=&t%5B%5D=hours&t%5B%5D=

http://ww4.essalud.gob.pe:7777/acredita/
http://www.sunat.gob.pe/cl-ti-itmrconsruc/FrameCriterioBusquedaMovil.jsp


arc 

Instalación de CMS Arc

Solicitar permisos para el repositorio de Arc y clonar el proyecto
git clone git@gitlab.ec.pe:contenidos/arc.git
Desinstalamos cualquier versión de Docker que tengamos e instalamos la última versión CE
Fedora: https://docs.docker.com/install/linux/docker-ce/fedora/
Ubuntu: https://docs.docker.com/install/linux/docker-ce/ubuntu/
Luego de instalar Docker CE no olvidar agregar nuestro usuario al grupo docker creado
$ sudo usermod -aG docker $USER
Revisamos las dependencias indicadas en el proyecto
Creamos el archivo .env
		CONTEXT_PATH=pf
CONTENT_BASE=https://2018-12:1e2d52d4ead4a36107f31f30ad5d2562@api.elcomercio.arcpublishing.com
resizerUrl=http://resizer.shared.arcpublishing.com
resizerSecret=Fmkgru2rZ2uPZ5wXs7B2HbVDHS2SZuA7

Ejecutamos el proyecto
npm install
npm install --save-dev @arc-fusion/cli
npx fusion init
npx fusion start


https://pwadeporcom.page.link/?link=https://depor.com





//      considerando varias urls en un mismo espacio html libre
//      
             preg_match_all('/src="(\S*)"/', $contenido, $output_array);
             
             foreach ($output_array[1] as $out)
             {
                 echo "salida: ".$out."<br>salida2: ".strpos($out, 'youtube'). "<br>";  
               if (strpos($out, 'youtube'))
                {
                    $this->ampscript['youtube'] = true;
                    echo "ahñañay3";
                }
                if(preg_match('/\.(gif)$/', $out)) {
                $this->ampscript['gifanim'] = true;
              }
             }
//            fin considerando




ruta campañas
http://gestion.minoticia.pe/digcomzcampaign/list


SYNFONY
para tener todo a la mano en cualquier lugar, tomar el ejemplo de 
/home/usuario/xalok/cms/src/App/Bundle/CmsBundle/Twig/Extension/StructuredDataMarkupExtension.php
 inicialmente se declaran las variables las cuales inicializaremos en el constructor con 

class StructuredDataMarkupExtension extends \Twig_Extension
{
    protected $container;
    protected $site;
    protected $urlBase;
    protected $request;
    public function __construct(ContainerInterface $container)
    {
        $this->container = $container;
        $this->site = $this->container->getParameter('wf_sitio');
        $this->urlBase = $this->container->getParameter('wf_cms.admin.publicUrl');
        $this->urlBase =  str_replace("http", "https", $this->container->getParameter('wf_cms.admin.publicUrl'));
        $this->request = $container->get('request_stack')->getCurrentRequest();
    }
    public function appnexusFunction($type = null, $name = 'appnexus')
    {
        $e = $this->container->get('app.eplanning');
        $slug = str_replace($this->request->getHttpHost(), $this->request->getHttpHost().'/amp/'.$this->site, $value['slug']);
    }
PROMOCIONES DE DIARIOS
http://promociones.eclabs.io/admin

admin
aiC7oFou0be8Ah

Alli estan todas las promociones de todos los sitios, los formularios se setean de acuerdo a la cantidad de campos que
se requiere, se setea la imagen , se setean los textos, y las redirecciones.s




instalando angular en proyecto 
1ro actualizar node.js
    sudo npm install -g n
    sudo n latest
2do
    instalar angular
    sudo npm install -g @angular/cli
    crear tu directorio en el que se alojara el proyecto
    crear proyecto con sgte comando
        ng new aprendiendoangular


JSON Publicidad: https://archivo.elcomercio.pe/html/portada/newsletter/depor/publicidad.json
Newsletter
Newsletter en general (json publicidad)
https://archivo.elcomercio.pe/html/portada/newsletter/depor/publicidad.json
[
{
"plantilla": "dep02",
"xalok": "1",
"publicidades": [
{
"id": "10",
"plantilla_id": "10",
"nombre": "TOP-Prueba Newsletter Depor",
"fecha_inicio": "1560229200",
"fecha_fin": "1560260880",
"url": "https://depor.com/",
"posicion": "Top",
"imagen": "https://cde.3.elcomercio.pe/img/0/1/7/0/2/1702963.gif",
"estado": "1"
}
]
}
]


Información sobre su cuenta:

Identificador: vastahuaman
Contraseña: 1qaz2wsx
Iniciar sesión: https://ecodigital.com.pe/login


<a href="https://peru21.pe/noticias/copa-america-2019"> 
<picture>
  <source media="(min-width: 600px)" srcset="/uploads/2019/06/10/5cfe776a3f93e.jpeg?d=1560180586659">
  <source media="(max-width: 600px)" srcset="/uploads/2019/06/10/5cfe73eee3b54.jpeg?d=1560179695351">
  <img src="/uploads/2019/06/10/5cfe776a3f93e.jpeg?d=1560180586659" alt="HTML5 logo">
</picture>
</a>

<a href="https://peru21.pe/noticias/copa-america-2019"> 
<picture>
  <source media="(min-width: 600px)" srcset="html5-logo-xl.png">
  <source media="(min-width: 300px) and (max-width: 600px)"
                                    srcset="/files/article_content_ec_fotos/uploads/2019/06/10/5cfe73eee3b54.jpeg?d=1560179695351">
  <source media="(max-width: 50px)" srcset="html5-logo-small.png">
  <img src="html5-logo-medium.png" alt="HTML5 logo">
</picture>
</a>

<div><a href="https://peru21.pe/noticias/copa-america-2019">
    <picture>
    	<img src="https://peru21.pe/uploads/2019/06/10/5cfe960083fbc.jpeg" alt="Copa América" title="Copa América">
    	<source srcset="https://peru21.pe/uploads/2019/06/10/5cfe96cb243e5.jpeg" media="(min-width: 320px) and (max-width: 640px)">
        <source  srcset="https://peru21.pe/uploads/2019/06/10/5cfe97661b3d2.jpeg" media="(max-width: 320px)">
    </picture>
</a></div>

        modificado:    src/App/Bundle/CmsAdminBundle/Resources/views/Javascript/i18n.js.twig
	modificado:    src/App/Bundle/CmsBundle/Resources/views/Template/Board/peru21/home/portada-p21tv-v3.html.twig
	modificado:    src/App/Bundle/CmsBundle/Resources/views/TemplateModule/modulos/peru21/peru21tv/portada-p21tv-v3-programa.html.twig
	nuevo archivo: web/img/p21tv/al-pie-del-misti.jpg
	nuevo archivo: web/img/p21tv/banner-al-pie-del-misti.png
git checkout masterdnnsp21_qs web/img/p21tv/banner-pez-en-el-agua.png
git checkout masterdnnsp21_qs web/img/p21tv/logo-al-pie-del-misti.png
git checkout masterdnnsp21_qs web/img/p21tv/logo-m-al-pie-del-misti.png
git checkout masterdnnsp21_qs web/img/p21tv/logo-m-pez-en-el-agua
git checkout masterdnnsp21_qs  web/img/p21tv/logo-pez-en-el-agua.png
git checkout masterdnnsp21_qs  web/img/p21tv/pez-en-el-agua.jpg



masterdnnsp21_qs
https://pwaperu21.page.link/?link=https://pwa.peru21.pe/news/IDNOTA&apn=com.eeec.peru21&amv=1&ibi=com.eeec.Peru21r&isi=991197788&efr=1
https://pwaperu21.page.link/?link=https://pwa.peru21.pe/&apn=com.eeec.peru21&amv=1&ibi=com.eeec.Peru21r&isi=991197788&efr=1
https://pwadevperu21.page.link/?link=https://pwa.peru21.pe/news/IDNOTA&apn=com.eeec.peru21&amv=1&ibi=com.eeec.Peru21&isi=991197788&efr=1
https://pwadevperu21.page.link/?link=https://pwa.peru21.pe/&apn=com.eeec.peru21&amv=1&ibi=com.eeec.Peru21&isi=991197788&efr=1
git checkout master /home/usuario/multi/peru21/system/application/views/especiales/lenguasnativas/portada.php

para enviar cambios puntuales de una rama a otra sin pedir merge request, se realiza de la siguiente forma como un ejemplo.
cambios realizados en master y pasados a pre para su push en esta rama
primero se realizan los cambios en master y se comitea 
luego se mantiene la lista de todos los archivos, sus rutas para su uso posterior
se cambia de rama checkout
y con el siguiente comando
    git checkout master /home/usuario/multi/peru21/system/application/views/especiales/lenguasnativas/portada.php
posteriormente se commitea dentro de la rama pre
y se hace pull y push


rutinas para agregar cambios en pre desde dev en motor de peru21
1ro:
    chequear todos los commit hechos en master con git  log --oneline
2dp: luego de chequear cual es el primer commit realizado, situarse en el commit  inmediato anterior y copiar su id
3ro: correr git rebase -i [[idcommit]]
4to: agregar al texto que sale en la parte inferior del prompt   %s/pick/squash/g  (anteriormente presionar tecla esc)
5to: a continuacion ir al inicio y editar la primera linea, indicando solo pick idcommit y grabar texto
6to: verificamos que se realize la compresion de todos los commit realizados 
7mo: git log
8vo: verificamos la id del commit que sale de la operacion anterior
9no a continuacion nos vamos a la rama la cual queremos actualizar git checkout pre
9no: git cherry-pick -n  [[idcommit]]
fin
commit motor peru21
    928f01390ee5ffd0e6676f69ca42034c3415d25b



<script type="text/javascript">
    var userAgent = navigator.userAgent || navigator.vendor || window.opera;
    if (/android/i.test(userAgent)) {
        console.log('soy android');
        document.querySelector("#test").innerHTML = "soy android";
    }
   
    if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {
        console.log('soy iphone');
        document.querySelector("#test").innerHTML = "soy iphone";
    }
    
</script>



Pasos para añadir un nuevo icono como tipografia de letra

normalmente en una tipografia de iconos ya existen iconos establecidos, si se desea añadir se tiene que ubicar el archivo 
svg usad por los iconos actualmente y añadirlo a la siguiente url https://icomoon.io/app/#/select junto con el svg del nuevo
icono que se desea añadir, de estos se seleccionan los iconos en total que se añadiran a la nueva tipografia, se genera la letra
 y a continuacion se confirma la codificacion para cada icono. posteriormente se descarga toda la nueva tipografia añadida.

    }
     elseif(($source=='local_goldfish')||($source=='goldfish_upload')){
          $codevideo = $this->container->getParameter('url.estaticos')."/media/".trim($codevideo).'?category=&movil=true&autoplay=0';
          $module_content = '<figure data-feedback="fb:likes, fb:comments" class="op-interactive"><iframe width="560" height="315" src="'.$codevideo.'"></iframe></figure>';
        }elseif($source=='ooyala'){
          $codevideo = 'https://player.ooyala.com/iframe.html?ec='.trim($codevideo).'&pbid='.trim($ooyalaPlayerId).'&platform=html5';
          $module_content = '<figure data-feedback="fb:likes, fb:comments" class="op-interactive"><iframe width="560" height="315" src="'.$codevideo.'"></iframe></figure>';
        }

if ($this->container->getParameter('pase_goldfish')=='no')
    {
    return $this->mediapViewAction($mediaId);
    }

?{{ "now"|date('YmdHis') }}
[qa]- TROME Se implemento la reproducción de videos con reproductor de goldfish
se solicito sgte merge
[[http://gitlab.ec.pe/contenidos/cms/merge_requests/3917]]

realizar composer install a entorno y agregar los siguientes datos a las variables, tener en cuenta que las variables se cambiaran para cuando se pase a prod
> reproductor_powa.id: 'powa-9f2e1f47-2d16-4989-9a7a-ab5e1e67834e'
> reproductor_powa.uuidfirst: '9f2e1f47-2d16-4989-9a7a-ab5e1e67834e'
> reproductor_powa.data-env: 'sandbox'
> reproductor_powa.data-api: 'sandbox'
> reproductor_powa.data-org: 'elcomercio'
correr los  archivo migrate  (si es que no se corrio anteriormente ) con comando:
 php ./app/admin/console doctrine:migrations:execute 20190227162124 --up 
 php ./app/admin/console doctrine:migrations:execute 20190313210658 --up

Validar:
* que el reproductor que sirva a los videos sea el de powa para los videos con assets agregados antes del 2019
* que la fuente de los videos sea los mp4 que estan alojados en los assets del sitio
* que, si se da el caso que el video tiene id de golfish (los videos que tendran id de golfish son los que se migraran en su momento y son los videos creados en el 2019) se usara la fuente de golfish para reproducir el video en el mismo reproductor powa 
* que los videos se vean bien (no se validaran estilos del reproductor)
* Que se agreguen las publicidades (si existiesen) previas al video


//ruta si esta disponible 
https://gestion.pe/video/check-if-available/d4YzVoaDE6Tn8Kxs__I5a8Uy9vE8H8ay {{media_id}}

491,
sitio   local   oyala   youtube
depor   26       13        1
p21     10       10        1
gestion 3        7         1
trome   30       8         4 


VideoRepository
        public function findOneByMediaId($mediaId)
    {
        $em = $this->getEntityManager();
        $dql = "
            SELECT video
            FROM AppCmsBundle:Video video
            WHERE
            video.mediaId = :id 
            ORDER BY video.id DESC
            ";
        $query = $em->createQuery($dql);
        $query->setParameter('id', $mediaId);
        $query->setMaxResults(1);

        return $query->getOneOrNullResult();
    }
Local YML
    reproductor_powa.id: 'powa-a9b7412c-4ced-44bf-b7f3-0c0891aa9a8a'
    reproductor_powa.uuidfirst: '84a9a8e8-13a7-4d32-9551-e05c7ad1b209'
    reproductor_powa.data-env: 'sandbox'
    reproductor_powa.data-api: 'sandbox'
    reproductor_powa.data-org: 'elcomercio'
    video_migracion_completa: 'no'

php ./app/admin/console doctrine:migrations:execute 20190227162124 --up
ArticleController


    /**
     * @Route("/mediap/{mediaId}",
     *      name="por_article_mediap_id",
     *      requirements={
     *          "mediaId": ".*",
     *      }
     * )
     * @Template()
     */
    public function mediapViewAction($mediaId)
    {
        $noads = 1;
        $domains = $this->container->getParameter('wf_sitio');
        $domains = '/'.ucwords($domains);
        if(isset($_GET['noads'])){$noads = 0;}

        return $this->render("AppCmsBundle:Article$domains:mediaView.html.twig",
        [
            'media_id' => $mediaId,
            'noads' => $noads,
            'category' => isset($_GET['category'])?$_GET['category']:'',
            'movil' => (isset($_GET['movil']) && $_GET['movil'] =='true')?'Movil'.'_':'',
        ]);
    }
    /**
     * @Route("/media/{mediaId}",
     *      name="por_article_media_id",
     *      requirements={
     *          "mediaId": ".*",
     *      }
     * )
     * @Template()
     */
    public function mediaViewAction($mediaId)
public function mediaViewAction($mediaId)
    {
        // lo que vamos hacer aca es que de acuerdo al mediaId, obtendremos el 
        // objeto video, validaremos la fecha y de acuerdo a ello obtenemos la ruta del
        //mp4 del video para darle la plantilla correspondiente con los datos requeridos,
        // a la vista 
        $em = $this->getDoctrine()->getManager();
        $entity = $em->getRepository('AppCmsBundle:Video')->findOneByMediaId($mediaId);
        $retorno=array();
        $flag=0;
        $uuid=$this->container->getParameter('reproductor_powa.uuidfirst');
        $noads = 1;
        $domains = $this->container->getParameter('wf_sitio');
        $domains = '/'.ucwords($domains);
        if(isset($_GET['noads'])){$noads = 0;}
        if(is_object($entity))
        {
//            if ((int)$entity->getCreatedAt()->format('Y')>=2019)
//            {
                $retorno= $entity;
                if(is_null($entity->getGoldfishId()))
                {
                $flag=1;
                }
                else
                {
                    $uuid=$entity->getGoldfishId();
                }
                return $this->render("AppCmsBundle:Article$domains:mediapView.html.twig",
                [
                    'retorno'=>$retorno,
                    'flag'=>$flag,
                    'uuid'=>$uuid,
                    'noads' => $noads,
                    'autoplay'=>(isset($_GET['autoplay']) && $_GET['autoplay']=='1')?'true':'false',
                    'category' => isset($_GET['category'])?$_GET['category']:'',
                    'movil' => (isset($_GET['movil']) && $_GET['movil'] =='true')?'Movil'.'_':'',
                ]);
//            }
//            else
//            {
//            return $this->render("AppCmsBundle:Article$domains:mediaView.html.twig",
//                [
//                    'media_id' => $mediaId,
//                    'noads' => $noads,
//                    'category' => isset($_GET['category'])?$_GET['category']:'',
//                    'movil' => (isset($_GET['movil']) && $_GET['movil'] =='true')?'Movil'.'_':'',
//                ]);
//                       
//            }
        }
        
    }


mediapView.html
<!doctype html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Player gestion.pe</title>
    <meta name="robots" content="noindex,nofollow">    
</head>

<body style="margin: 0;padding: 0">
<noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-WGPJNC" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <div id="container" style="width:100%;"></div>
<div
        class="powa"
        id="{{powa_id}}"
        data-env="{{powa_data_env}}"
        data-api="{{powa_data_api}}"
        data-org="{{powa_data_org}}"
        data-uuid="{{uuid}}"
        {%if flag==1%}data-stream="{{baseUrlImg}}/uploads/{{retorno.getUploadPrefix}}/{{retorno.getVideoName}}"{%elseif flag==2%}data-stream="{{retorno.getUrlVideo}}"{%else%}{%endif%}        
        data-aspect-ratio="0.562"
        data-autoplay="{{autoplay}}"
>
    <script src="https://d1tqo5nrys2b20.cloudfront.net/sandbox/powaBoot.js?org=elcomercio"></script>
</div>
<script type="text/javascript">
    window.addEventListener('powaRender', event => console.warn(event));
    window.addEventListener('powaError', event => console.error(event));

    window.PoWaSettings.advertising = {
        adBar: true,

        // adTag can be a function or a simple string
        // if it's a function we pass in the data object of the current video
        // receives 'data' object...
        // data = {
        //     id: <id of .powa element>,
        //     muted: <(true|false)>,
        //     videoData: <video JSON>
        // }
        // returns ad tag URL
            
        adTag: (data) => {
            function getUrlPrerroll(category){
            var sections = ['Politica', 'Política', 'política', 'politica', 'Opinion', 'Opinión', 'opinion', 'opinión'];
            var URL_PRERROL = '';

            if(sections.indexOf(category) > -1){
                    category = category.charAt(0).toUpperCase() + category.slice(1);
                    URL_PRERROL = "https://pubads.g.doubleclick.net/gampad/ads?iu=/28253241/Gestion_"+category+"_Preroll&description_url=[placeholder]&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x360&ciu_szs=640x360,640x480&unviewed_position_start=1";
            }else{
                    URL_PRERROL = "https://pubads.g.doubleclick.net/gampad/ads?iu=/28253241/GESTION_Preroll&description_url=[placeholder]&env=vp&impl=s&correlator=&tfcd=0&npa=0&gdfp_req=1&output=vast&sz=640x360&unviewed_position_start=1";
            }
            return URL_PRERROL;
             };
            function getQueryVariable(variable) {
                var query = window.location.search.substring(1);
                var vars = query.split("&");
                for (var i=0;i<vars.length;i++) {
                    var pair = vars[i].split("=");
                    if (pair[0] == variable) {
                        return pair[1];
                    }
                } 
            };
            var ads = {{ noads }};
            var category = "{{ category }}";
            var URL_PRERROL = getUrlPrerroll(category);

            if(ads == 1){
                            preroll = URL_PRERROL;
            }else{
                            preroll = "";
            }
 //           preroll = "https://pubads.g.doubleclick.net/gampad/ads?sz=640x480&iu=/124319096/external/single_ad_samples&ciu_szs=300x250&impl=s&gdfp_req=1&env=vp&output=vast&unviewed_position_start=1&cust_params=deployment%3Ddevsite%26sample_ct%3Dlinear&correlator=";
 //           console.log("ads dnns: "+preroll);
            return preroll;
        }
    };

    window.PoWaSettings.promo = {
        size: 'medium',

        style: {
            backgroundColor: 'black',
            fontFamily: '"HelveticaNeue", "Helvetica Neue Light", "Helvetica Neue", Helvetica, Arial, "Lucida Grande", sans-serif',
            zIndex: 1,
            width: '100%',
            height: '100%',
            position: 'absolute',
            top: '0px',
            left: '0px',

            // inline style can be applied to child elements by specifying the class or id of the child
            '.powa-shot-image': {
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                width: '100%',
                height: '100%',
                overflow: 'hidden',
                backgroundSize: 'cover',
                backgroundPosition: 'center'
            },

            '.powa-shot-title': {
                fontSize: 'xx-large',
                color: '#EEE',
                textShadow: '2px 2px 3px rgba(0,0,0, 0.8), -1px -1px 0 rgba(0,0,0, 0.3), 1px -1px 0 rgba(0,0,0, 0.3), -1px 1px 0 rgba(0,0,0, 0.3), 1px 1px 0 rgba(0,0,0, 0.3)',
                position: 'absolute',
                top: '30px',
                left: '30px'
            },

            '.powa-shot-play-btn': {
                display: 'flex',
                alignItems: 'center',
                justifyContent: 'center',
                width: '75px',
                height: '75px',
                cursor: 'pointer',
                fontSize: 'xx-large',
                color: '#EEE',
                backgroundClip: 'padding-box',
                border: '3px solid rgba(255,255,255, 0.5)',
                borderRadius: '50%',
                backgroundColor: '#111'
            },

            '.powa-shot-duration': {
                fontSize: 'x-large',
                color: '#EEE',
                textShadow: '2px 2px 3px rgba(0,0,0, 0.8), -1px -1px 0 rgba(0,0,0, 0.3), 1px -1px 0 rgba(0,0,0, 0.3), -1px 1px 0 rgba(0,0,0, 0.3), 1px 1px 0 rgba(0,0,0, 0.3)',
                position: 'absolute',
                bottom: '30px',
                left: '30px'
            },
        },

        // receives 'data' object...
        // data = {
        //     image: <url>,
        //     title: <string>,
        //     videoData: <video JSON>
        // }
        // returns string of HTML
        template: function (data) {
            function getImage (videoData) {
                let resized = videoData.additional_properties.imageResizerUrls.find(image => image && image.size && image.size === PoWaSettings.promo.size);

                return resized && resized.url ? resized.url : videoData.promo_image.url;
            }

            function getTime (videoData) {
                if (!videoData.duration) return '';

                let duration = videoData.duration / 1000;

                let hours = Math.floor(duration / 3600);
                let minutes = Math.floor(duration / 60);
                let seconds = Math.floor(duration % 60);

                let hourDisplay = hours ? `${ hours }:` : '';
                let minuteDisplay = hours && (minutes < 10) ? `0${ minutes }:` : `${ minutes }:`;
                let secondDisplay = seconds < 10 ? `0${ seconds }` : seconds;

                return `${ hourDisplay }${ minuteDisplay }${ secondDisplay }`;
            }
            var img= getImage(data.videoData).replace(/^http:/, '');
            var title= data.videoData.headlines.basic;
            var duration=getTime(data.videoData);
            {%if flag>=1%}
            var img='{{baseUrlImg}}/uploads/{{retorno.getUploadPrefix}}/{{retorno.getThumbName}}';   
            var title='{{retorno.getTitle}}';
            var duration= '';
            {%endif%}
            let template = `
            <div class="powa-shot-image powa-shot-click powa-shot-click-play powa-shot-touch powa-shot-touch-background" style="background-image: url('`+img+`')">
                    <div class="powa-shot-title powa-shot-click powa-shot-click-title">`+title+`</div>
                    <div class="powa-shot-play-btn powa-shot-hover powa-shot-click powa-shot-click-play"><div class="test">▶</div></div>
                    <div class="powa-shot-duration powa-shot-hover powa-shot-hover-duration">`+duration+`</div>
            </div>`;

            return template.trim();
        }
    }

</script>
</body>
</html>








se solicito sgte merge
[[http://gitlab.ec.pe/contenidos/cms/merge_requests/3870]]

* realizar composer install a entorno y agregar las variables mencionadas por defecto, tener en cuenta que las variables se cambiaran para cuando se pase a prod 
* >     reproductor_powa.id: 'powa-a9b7412c-4ced-44bf-b7f3-0c0891aa9a8a'
* >     reproductor_powa.uuidfirst: '84a9a8e8-13a7-4d32-9551-e05c7ad1b209'
* >     reproductor_powa.data-env: 'sandbox'
* >     reproductor_powa.data-api: 'sandbox'
* >     reproductor_powa.data-org: 'elcomercio'
* correr archivo migrate con comando: php ./app/admin/console doctrine:migrations:execute 20190227162124 --up (si es que no se corrio en el ambiente )

Para los videos hasta diciembre del 2018, validar en el código que se muestre la ruta del MP4.
Se buscar reproducir este MP4 en POWA. Ver Imagen Documento Capítulo 4.2.1

!image.png!



antes niegue sus luces el sol, que faltemos al voto solemne que la patria al eterno elevo:
La patria a elevado un juramento a Dios por ayudarles en su libertad, y antes de faltar a 
ese voto solemne,el sol deberia negarnos la luz.

update video set uuid_goldfish='d0db8ad3-1b6c-4218-b200-03b42c1401d2' where media_id='';
mysql> select  status,video_name,slug,source,media_id, status origin from video where 1;
+--------+-------------------+-------------------+--------------+----------------------------------+--------+
| status | video_name        | slug              | source       | media_id                         | origin |
+--------+-------------------+-------------------+--------------+----------------------------------+--------+
| new    | 5c7979a539637.mp4 | year              | local_ooyala | drdHNjaDE6J4kOQ3AUg0WlUD0BafAIZb | new    |
| new    | 5c797c3196f6f.mp4 | ssdfsd-a-fadf-sad | local_ooyala | pnMnRjaDE6ETk-GuOw2fzyCx8qONe-SS | new    |
+--------+-------------------+-------------------+--------------+----------------------------------+--------+


// cambios en bd para funcionamiento de carga de videos en xalok
    considerar configurar la sgte ruta 
    http://local.minoticia.pe/cmsconfig/

mysql> description cms_config
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'description cms_config' at line 1
mysql> select * from cms_config
    -> ;
Empty set (0.00 sec)

mysql> show field from cms_config;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'field from cms_config' at line 1
mysql> show field cms_config;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'field cms_config' at line 1
mysql> drop ALTER TABLE cms_config DROP appnexus_nota 
    -> ;
ERROR 1064 (42000): You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'ALTER TABLE cms_config DROP appnexus_nota' at line 1
mysql> ALTER TABLE cms_config DROP appnexus_nota;
Query OK, 0 rows affected (0.27 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> ALTER TABLE cms_config DROP appnexus_nota;
ERROR 1091 (42000): Can't DROP 'appnexus_nota'; check that column/key exists
mysql> ALTER TABLE cms_config ADD appnexus_home MEDIUMTEXT NOT NULL, ADD appnexus_default MEDIUMTEXT NOT NULL, ADD appnexus_nota MEDIUMTEXT NOT NULL;
ERROR 1060 (42S21): Duplicate column name 'appnexus_home'
mysql> ALTER TABLE cms_config  ADD appnexus_default MEDIUMTEXT NOT NULL, ADD appnexus_nota MEDIUMTEXT NOT NULL;ERROR 1060 (42S21): Duplicate column name 'appnexus_default'
mysql> ALTER TABLE cms_config   ADD appnexus_nota MEDIUMTEXT NOT NULL;
Query OK, 0 rows affected (0.28 sec)
Records: 0  Duplicates: 0  Warnings: 0

mysql> INSERT INTO cms_config (created_at, updated_at, email, appnexus_nota, appnexus_home, appnexus_default, config_youtube) VALUES (1, 1, 1, 1, 1, 1, 1);
Query OK, 1 row affected, 2 warnings (0.04 sec)

mysql> 

// ruta log de sitios de xalok local


/var/log/nginx/adminapplo_error.log
tailf {{ruta log}}
     <script type="text/javascript">
          AllImageGalleryV2 = document.querySelectorAll(".principal-slider img"); for (var i = 0; i < AllImageGalleryV2.length; i++) {
            var element = AllImageGalleryV2[i].getAttribute('src'); var element2= element.replace('/files/article_content_ec_fotos', ""); console.log(element2); AllImageGalleryV2[i].setAttribute('src',element2 ); };
        </script>


Galerias VErticales
seo, agregar en /home/usuario/xalok/cms/src/App/Bundle/CmsBundle/Resources/views/Article/Depor/seo.html.twig :
    {% if page.getContentType is defined %}
        {% if page.galeriaLista=='yes' and page.getContentType=='galeria'%}
            <meta name="typeNota" content="galeria_vertical">
        {% else %}
            <meta name="typeNota" content="{{ page.getContentType }}">
        {% endif %}    
        <meta name="typeNota" content="{{ page.getContentType }}">
    {% endif %}

{{page.galeriaLista}}


//motor el comercio
PANEL ADMINISTRATIVO :
    DESARROLLO           =      http://dev.3.depor.multidiario.com/
        admin
        DmeBnAqm

    PRE-PRODUCCIÓN   =     http://pre.3.depor.multidiario.com/
        admin
        DmeBnAqm

    PRODUCCIÓN           =     http://depor3.multidiario.com/
        admin
        DmeBnAqm

        


// funcion que deshabilita el boton de abrir en app de las notas de depor
/home/usuario/xalok/cms/src/App/Bundle/CmsBundle/Resources/depor/source/js/pages/masters/SitePage.js

dnnsIoshide() 


// atajos y cerrar programas en ubuntu

Vamos al panel de configuración.
Entramos en las opciones de Teclado.
Nos dirigimos a la pestaña de Atajos.
En la lista encontraremos un elemento que pone Combinaciones personalizadas. Lo pulsamos.
Escribiremos en la orden “xkill”, en el nombre pondremos lo que queramos.
Pulsaremos sobre desactivado y añadimos la combinación de teclas que queramos que ejecute el comando.



//url de redmine para saber los tiempos personales por fecha
http://plataformadigital.ec.pe/time_entries/report?utf8=%E2%9C%93&criteria%5B%5D=project&f%5B%5D=spent_on&op%5Bspent_on%5D=*&f%5B%5D=user_id&op%5Buser_id%5D=%3D&v%5Buser_id%5D%5B%5D=me&f%5B%5D=&c%5B%5D=project&c%5B%5D=spent_on&c%5B%5D=user&c%5B%5D=activity&c%5B%5D=issue&c%5B%5D=comments&c%5B%5D=hours&columns=month&criteria%5B%5D=


//  para transferir via red archivos de una pc a otra
//sudo rsync -avz node_modules usuario@172.18.31.51:/home/usuario/temp-docker-xalok/cms/
//sudo rsync -avz data usuario@172.18.31.51:/home/usuario/temp-docker-xalok/


// para docker si es q no se puede inicializar bien
sudo chown usuario:usuario /var/run/docker.sock

//Newsletter Prensa Popular :

Trome : 
Vista previa : http://archivo.elcomercio.pe/newsletter_xalok_pp/trome/preview
Servicio :  http://archivo.elcomercio.pe/newsletter_xalok_pp/trome/service      
Depor : 
Vista previa: http://archivo.elcomercio.pe/newsletter_xalok_pp/depor/preview
Servicio :  http://archivo.elcomercio.pe/newsletter_xalok_pp/depor/service  
Gestion :
Vista previa:  https://archivo.gestion.pe/index.php/newsletter/preview
Servicio:   https://archivo.gestion.pe/index.php/newsletter/service 

Perú21 : 
Vista previa : http://archivo.peru21.pe/index.php/newsletter/preview
Servicio: http://archivo.peru21.pe/index.php/newsletter/service
 

Blog Gestión : 

Admin: http://blogs.gestion.pe/wp-admin/
User : ge_blog
Clave : g3st10n


Notificaciones : https://onesignal.com/

Publimetro: 
Usuario : digitales.ec2013@gmail.com
Contraseña : Publ1m3tr0

Gestión: 
Usuario :  soporte.prensapopular@ec.pe
Contraseña : G3sT10n-2018




//pags frecuentes
http://plataformadigital.ec.pe
http://rundeck.eclabs.systems:4440/user/login		dastahuaman
http://gitlab.ec.pe/users/sign_in			vastahuaman@idteam.pe

https://www.udemy.com/master-en-javascript-aprender-js-jquery-angular-nodejs-y-mas/
https://www.edx.org/es


//pagina que da servicios de json falsos (usarlo en casos de prueba para obtener un servicio json)
jsonplaceholder-fake ->

// suad (sinergia union agilidad digital)
/// twig 
{% if 'BranchCMS' starts with 'Bran' %}
{% endif %}


///
DROP INDEX page_type_idx ON page;
ALTER TABLE dig_tag CHANGE slug slug VARCHAR(65535) NOT NULL, CHANGE route route VARCHAR(65535) NOT NULL;
ALTER TABLE tag ADD site VARCHAR(128) DEFAULT NULL;
ALTER TABLE dig_noads CHANGE route route VARCHAR(65535) NOT NULL;






//javascript
debugger; //isntrucccion que ayuda a saber como esta un bucle, ayuda a l debug
prompt;
//'use strict'//
parametros REST y SPREAD
...resto_de_frutas // almacena el resto de los parametros en un arreglo (parametros tipo REST) al final 
...frutas // almacena el resto de los parametros en un arreglo (parametros tipo SPREAD) al inicio de el envio de parametros
funcion anonima y funcion de callback en jscript 
funciones js:
	match (de un string)
	search (de un streing)
	substr
	replace 
	slice
	split
	trim
interpolacion de variables $(variable) para concatenar una plantilla en js

arreglos js
array.forEach(elemento, indice)=>{
	document.write("<li>"+indice+" - "+ elemento+ "</li>"");
}


modx ssl o http://
cambiar a https cambiar .htaccess y descomentar las redirecciones respectivas
cambiar parametro de link_tag_scheme

//modx
para actualizar una version:
primero bajarte la nueva version y descomprimirla en tu servido 
hacer flush a todas las sesiones del sitio actual y borrar todas los archivos de la ruta core/cache del sitio actual
se recomienda actualizar todos los paquetes instalados
copiar todo el contenido de la carpeta descomprimida a la locacion de los archivos del sitio actual (merge, nos daremos cuenta que se agregará la carpeta setup,) ingresar a la url {{misitio}}/setup/index.php y seguir las instrucciones, asi de facil y me tire mas de 1 hora en realizarlo por cojudo


//
docker
git  (solo practicar para empezar un proyecto de 0 y brindar permisos)
	//practicando git
	tenemos una cuenta en github y alli creamos nuestros proyectos
	para obtenerlo desde cualquier maquina simplemente tenenos que localizarnos en el directorio local
	y clonarlo en git  con el siguiente comando obtener la ruta desde la web del repositorio
	 git clone https://github.com/dnnstone/symfo.git 
	 a partir de ai, ya podemos trabajar con los comandos usados
	 https://guides.github.com/activities/hello-world/

redmine
rundeck
symfony 
xalok
nginx
	// http://nginx.org/en/docs/http/ngx_http_rewrite_module.html

infraestructura
aws
google basic

//intereses
blockchaing
phyton- django (framework) cms
wordpress
Design Thinking FlipKit
redaccion,comunicación, oratoria
jp
ARC



// mmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm

server {
    root /blog/web/;
    server_name local.blog.gestion.pe;
    client_max_body_size 200M;
    location / {
#        try_files $uri /index.html$is_args$args;


       if ($uri !~* "\.(jpg|png|php)$") {
                set $blog A;
                #rewrite ^/(.*)/(.*)/(.*)/(.*).html$ https://local.gestion.pe/blog/$1/$2/$3/$4.html last;
                #rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
        }

        if ($uri !~* "/(wp-admin|wp-admin/(.*)|wp-login\.php)$") {
                set $blog "${blog}B";
        }

#        if ($blog = AB) {


#                rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;

#        }


        if ($blog = AB)
         {

#                       if ($uri ~* "^(.*)/(tag/|\d\d\d\d/)(.*)$")
#                {
#                rewrite ^/(.*)/(tag/|\d\d\d\d/)(.*)$ https://local.gestion.pe/blog/$1 last;
#                }
#                else
#                {
                rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
#                }

        }
    try_files  $uri /index.html$is_args$args;
    }
    location ~* ^/wp-content/uploads/(.*)$ {
 #   if ( !-e $request_filename ) {
rewrite ^ http://local.gestion.pe;
 #   }
}
    error_log /var/log/nginx/adminapploblog_error.log;
    access_log /var/log/nginx/adminapploblog_access.log;
}



//eliminando archivos  swp que se generan al no guardar o salir bien del editor vi en linux

1:) Run "ls -la" where the file exist so that you can view the .swp file for the same.

2:) Now "rm -i *.swp" i.e., remove the ".swp" file from the directory .

3:) Now confirm wether the ".swp" file has been removed .

4:) Now enjoy from those warnings.


//oauth 2.0 google aspesin
id_cliente: 372609295183-3117k6le4f9ln9scf0g385r33l75f8mf.apps.googleusercontent.com

secreto_cliente: IvEw5j7Q0xzI4U7LrKmLePnd


//final nginx

       if ($uri !~* "\.(jpg|png|php)$") {
                set $blog A;
        }
        if ($uri !~* "/(wp-admin|wp-admin/(.*)|wp-login\.php)$") {
                set $blog "${blog}B";
        }
        if ($blog = AB)
         {
                rewrite ^/(.*)(\/tag\/|\/\d\d\d\d\/|\/\d\d\d\d)(.*)$ https://pre01.gestion.pe/blog/$1 last;
                rewrite ^/(.*\/)$ https://pre01.gestion.pe/blog/$1 last;
        }
//


//ngnix configuration etc/ngnix/sites-enabled/default





server {
    root /blog/web/;
    server_name local.blog.gestion.pe;
    client_max_body_size 200M;
    location / {
        try_files $uri /index.html$is_args$args;


    }

    error_log /var/log/nginx/adminapploblog_error.log;
    access_log /var/log/nginx/adminapploblog_access.log;
}



		if ($uri !~* "\.(jpg|png)$") {
                set $blog A;
                #rewrite ^/(.*)/(.*)/(.*)/(.*).html$ https://local.gestion.pe/blog/$1/$2/$3/$4.html last;
                #rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
        }

        if ($uri !~* "/(wp-admin|wp-login\.php)$") {
                set $blog "${blog}B";
        }

        if ($blog = AB) {
                rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
        }


location ~* ^/wp-content/uploads/(.*)$ {
    if ( !-e $request_filename ) {
      proxy_pass http://local.gestion.pe$uri;
    }

       if ($uri !~* "\.(jpg|png|php)$") {
                set $blog A;
                #rewrite ^/(.*)/(.*)/(.*)/(.*).html$ https://local.gestion.pe/blog/$1/$2/$3/$4.html last;
                #rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
        }

        if ($uri !~* "/(wp-admin|wp-admin/(.*)|wp-login\.php)$") 
        {
                set $blog "${blog}B";
        }

        if ($blog = AB) 
        {
                rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;

        }








       if ($blog = AB) {
       		if($uri ~* "(.*)/(tag/|\d\d\d\d/)(.*)$")}
                rewrite ^/(.*)/(tag/|\d\d\d\d/)(.*)$ https://local.gestion.pe/blog/$1 last;
                }
             else
             {
             	rewrite ^/(.*)$ https://local.gestion.pe/blog/$1 last;
             }   

        }






///
one signal= tecnologia para push notification en cualquier web, es un script que se inserta y sale en la web como un popup de la forma Trome.pe quiere enviarte las noticias mas relevantes permitir, no gracias, es buena idea si se quiere implementar una web con notificaciones permanentes a los clientes.


es posible hacer la redireccion de las rutas de ciertas urls sin considerar urls de imagenes 


Arquitectura:
Si seguimos las instruccciones con SonataAdminBunlde, deberiamos por ahora tener un Admin Class y un Admin Servicio,

La  Clase Admin
Mapea un modelo especifico para la interfaz CRUD proveida por SonataAdminBundle, en otras palabras,  usando la clase admin, se puede configurar que es mostrado por SonataAdminBundle en cada accion CRUD para el modelo asociado. por ahora, podremos ver 3 de esas acciones  en las paginas de  "empezar a usar" que son listar, filtrar y el formulario de crear o editar. sin embargo, una interminable configuracion  en la Admin class puede ser definido con mas acciones

-list: The fields displayed in the list table
-filter: The fields available for filtering the list
-form: The fields used to create/edit the entity
-show: The fields used to show the entity
-Batch actions: Actions that can be performed on a group of entities (e.g.    bulk delete)


#estrategia:
duplica tu bd antes de trabajar en los cambios
documenta cada paso 
documenta cada nuevo cambio

#ruta de admin en vendor
/home/dennis/temp-docker-xalok/cms/vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Resources/config/admin.xml


#mysql
show fields from tag;

+------------+--------------+------+-----+---------+----------------+
| Field      | Type         | Null | Key | Default | Extra          |
+------------+--------------+------+-----+---------+----------------+
| id         | int(11)      | NO   | PRI | NULL    | auto_increment |
| slug       | varchar(128) | NO   | UNI | NULL    |                |
| title      | varchar(255) | NO   | MUL | NULL    |                |
| created_at | datetime     | NO   |     | NULL    |                |
| updated_at | datetime     | YES  |     | NULL    |                |
| type       | varchar(50)  | YES  |     | NULL    |                |
| deleted_at | datetime     | YES  |     | NULL    |                |








<div class="page" idx="{% for usergroup in app.user.groups %}{{ usergroup }} {% endfor %}">

/home/dennis/temp-docker-xalok/cms/app/admin/aaa

Ingresar al redis del servidor docker
>redis-cli -h 127.0.0.1
ver las claves redis
>KEYS *
ver claves con un inicio dado
>KEYS *key*
ver datos de una clave redis
MGET key


//pasos para crear una sección multiple de acuerdo a cada categoria
CREAR UN TEMPLATE 
 
Crear el template en: 
/src/App/Bundle/CmsBundle/Resources/views/Category/ 
Ejemplo: emprendedor-trome.html.twig 
Agregar el nombre del template en el archivo de configuracion: 
/app/config/parameters/project.yml 
 
CREAR MODULO PARA SECCIONES 
 
Agregar bloque de código en: 
/app/config/cms/board_templates.yml 
Ejemplo: 
sh-ad1x2: 
            title: %category.title% publicidad 1x2 
            template: board/category/subhome/shAd1x2 
            slug: sh-ad1x2 
            preview: wf_category_show 
La tercera linea corresponde a la ruta del template del modulo 
considerar que el slug debe ser igual que el nombre del modulo sh-ad1x2 == h-ad1x2
Si el modulo es una lista es necesario agregar el template correspondiente en la carpeta Listing 
/src/App/Bundle/CmsBundle/Resources/views/Listing/ 
Ejemplo: listing_entero1x1_seccion_2.html.twig 
Luego agregar el filtro de la lista en el archivo /app/config/misc/avalanche.yml 
listing_entero1x1_seccion_2: 
            type:    thumbnail 
            options: { size: [300, 352], mode: inset, quality: 70 } 
            groups: [listing] 
Finalmente agregar el nombre de la plantilla en la funcion getTemplateName en: /src/App/Bundle/CmsBundle/PageRenderer/ListingPageRenderer.php 
//

RUNDECK dnnstone
http://34.235.158.58:4440
dastahuaman HanvufAutteulk

https://www.loginstore.com/tablet-advance-prime-pr6145-7-1024x600-android-4-4-3g-dual-sim-8gb-1gb-dtv-21407


//response en json de objetos
    public function latestAction($_format, $page = 1) {
        $serializer = $this->container->get('serializer');
        $serializer->setGroups(array('list'));

        $articleRepository = $this->get('wf_cms.repository.article');
        $qb = $articleRepository->getLatestItemsQB(null, null, false);

        $pagerFactory = $this->get('wf_cms.pager.factory');
        $articlesPager = $pagerFactory->createPager($qb, $page);
        $articlesPager->setMaxPerPage(14);

        $ret = array();
        $ret['results'] = json_decode($serializer->serialize($articlesPager->getCurrentPageResults(), 'json'));
        $ret['pager'] = $this->get('wf_cms_admin.pager.renderer.search')->render($articlesPager, array(
            'routeName' => 'wfadmin_latest_articles',
            'routeParams' => array(
            )
        ));

        return new Response(json_encode($ret));

    }


php app/admin/console doctrine:
//DOCTRINE MIGRATIONS 
http://gitnacho.github.io/symfony-docs-es/bundles/DoctrineMigrationsBundle/index.html

//en resumen, vemos el estado de nuestro ambiente respecto a las actualizaciones de bd 
php app/admin/console doctrine:migrations:status

//creamos un nuevo archivo de migracion
php app/admin/console doctrine:migrations:generate
//nos dara una ruta en la que tendremos que agregar nuestra respectiva consulta 

//migra todos los archivos pendientes por migrar en la instancia
php app/admin/console doctrine:migrations:migrate

//migrar un achivo en especifico
php ./app/admin/console doctrine:migrations:execute 20180829231851 --up
//donde el numero es la version creada
//para restaurar la migracion de una bd
php ./app/admin/console doctrine:migrations:execute 20180829231851 --down





{{baseUrlImg ~ asset('bundles/appcms/images/gestion/logo_cma.jpg')}}


delete from page where slug in ('comercial-portada-boarda1','comercial-portada-boarda2','comercial-portada-boardb1','comercial-portada-boardb2','comercial-portada-boardb3','g-cabecera-temadia','portada');br


g_home_1x1_entero
g_home_1x1_parcial
aspesin.org	
EPP Code:
CVVV-858-763-961

The EPP Code is a password that must be given to a registrar to initiate a transfer. A transfer to another registrar cannot be started without the correct EPP code.

Please review our video tutorial for more information regarding domain transferring.

The domain aspesin.org is currently NOT pending transfer. 






//permisos masivos
chmod -R 777   /xalok/app/admin/cache /xalok/app/public/cache /xalok/app/admin/var /xalok/app/public/var /xalok/app/admin/logs /xalok/app/public/logs

funciones twig: son utiles para cuando queremos tener en una funcion una funcionalidad esclusiva en la vista o en los twig 



//para cuando haya que  correr las migraciones que faltan (doctrine migration)
php app/admin/console doctrine:migrations:migrate


// texto log  de php
//entrar al mysql desde consola de xalok
mysql -u root -p

//para conocer desde consola todos los atributos de una tabla determinada
SHOW COLUMNS FROM page FROM wfcms

//obtener cualquier parametro de configuracion en controlador symfony
// ojo no el el que defines en el yml seccion twig, es cualquier parametro definido.

$prefijo= $this->container->getParameter('url.elemento.img');
// populate
./app/admin/console wf:cm:pu:po -m n



//settings listing

array(24) { 
["content"]=> string(11) "contentNews" 
["category"]=> int(5) 
["subcategories"]=> bool(true) 
["secondary_categories"]=> bool(true) 
["contentNews"]=> string(6) "latest" 
["contentAuthor"]=> NULL 
["contentType"]=> NULL 
["start"]=> int(0) 
["perPage"]=> int(20) 
["pages"]=> int(5) 
["paginator"]=> NULL 
["paginatorMore"]=> NULL 
["url"]=> string(8) "/offside" 
["descriptionLength"]=> NULL 
["elements"]=> array(5) 
	{ 
	[0]=> string(5) "title" 
	[1]=> string(3) "url" 
	[2]=> string(8) "category" 
	[3]=> string(5) "thumb" 
	[4]=> string(5) "share" 
	} 
	 ["elements_ordered"]=> string(30) "title,url,category,thumb,share" 
	 ["elements_boards"]=> string(2) "{}"
	 ["contentTags"]=> NULL 
	 ["filter"]=> string(33) "listing_ec_home_separador_standar" 
	 ["title"]=> string(15) "Minuto a minuto" 
	 ["displayType"]=> string(4) "list" 
	 ["gridColumns"]=> NULL 
	 ["footer"]=> NULL 
	 ["footerUrl"]=> NULL 
	 }





// para quitar las claves foraneas y poder elimiar tablas con referencias
SET FOREIGN_KEY_CHECKS=0;

// para obtener todos los branchs que estan en el repositorio origin 
git pull

// error git
error: insufficient permission for adding an object to repository database .git/objects
solucion:
sudo chmod 777 -R .git/objects

//para listar todos los branch que existen en el repositorio remoto
git branch -a
//para listar todos los branch que existen en el repositorio local
git branch
//nuevos comandos git para merge forks
git commit -am "prueba branch"
git pull origin eco-rediseno
git push dnnstone2 eco-rediseno
//informacion del ultimo update de la rama
git log -1

//obtenemos la info de cada bloque declarado en los board fixtures
Name         wf_page_show
Path         /view/page/{slug}.html
Host         ANY
Scheme       ANY
Method       ANY
Class        Symfony\Component\Routing\Route
Defaults     _controller: AppCmsBundle:Page:show
Requirements slug: .*
Options      compiler_class: Symfony\Component\Routing\RouteCompiler
Path-Regex   #^/view/page/(?P<slug>.*)\.html$#s

          {{ render_esi(url('wf_page_show',{ 'slug': 'ecbloque1' })) }} 
           {{ render_esi(url('wf_page_show',{ 'slug': 'elcomercio/nadine-heredia-participo-reuniones-gasoducto-afirmo-ex-ministra-energia-minas-119' })) }} 

//info de el comercio
Rediseño elcomercio.pe
===================
Plantillas
http://dev.3.elcomercio.pe/f/2016/public/html/index.html
Sprints
https://docs.google.com/spreadsheets/d/1ySOtlT9ze56upCNLl90E7ZmNVoNHyFHn8zzNFrJfatg/edit#gid=0
Referencia
https://docs.google.com/spreadsheets/d/1Ljp6MV54tmfToLBPRXzEJRst6HWd_9dA5t8M79G6Qjs/edit#gid=0

//add otro trerminal de  docker
docker exec -i -t xalok /bin/bash 


//diferentes opciones de avalanche
        listing_depor_separador_diosas_heighten:
            type:    relative_resize
            options: { heighten: 222 } # Transforms 50x40 to 75x60
        listing_depor_separador_diosas_widen:
            type:    relative_resize
            options: { widen: 296}    # Transforms 50x40 to 40x32
        listing_depor_separador_diosas_cga:
            type:    resize
            options: { size: [296, 222] }

//porsiaca
make elastic_reindex === .app/admin/console fos:elastica:populate

//para cambiar de entorno de diario
make change_site site=depor reindex=1 dev=1


//para usar un parametro yml en controlador o archivo php
$this->container->getParameter('wf_sitio')


//para cambiar la contraseña de admin xalok 
./app/admin/console fos:user:change-password admin NEWPASSWORD
ten en cuenta que si no ingresas con la nueva contrseña asegurate de cambiar los permisos a la siguiente ruta
chmod -R 777 app/admin/var/

//para saber la arquitectura del ubuntu
uname -m

//routing add url with /



//netbeans shortcuts
1	ctrl+h ------> reemplazar
2	subrayas una variable(php) ctrl+r y puedes reemplazar todos las ocurrencias de la variable al mismo tiempo
3	ctrl + shift + flecha hacia abajo ó arriba: duplica la línea donde se encuentra el cursor o duplica el texto seleccionado
4   Ctrl + Space : Completa el código que estamos escribiendo
5	Shift+Alt+F – Estructurar automáticamete el código seleccionado.

//agregar plantilla de notas 

1ro: agregar plantilla en templates.yml
2do: traducir el nombre de la plantilla de notas en /home/dennis/temp-docker-xalok/cms/app/admin/Resources/translations/WfCmsAdmin.es.xliff
3ro: crear su plantilla twig con los los modulos que deberia tener la plantilla, Cannot find module './article/publi_reportaje.html


paremetros en ruta  twig
{{ path('app_cms_archivo_section_date', {section: pagerOptions.section, date:opcion.date}) }}


//renderizar en un twig nuestros datos u obtener el html de estos

$response = $this->render('WfCmsBaseBundle:Search:advancedSearch.html.twig', $data);

//usar dentro de nuestro metodo un metodo del padre,

        $data = parent::indexAction($query, $page, $request);

//

pw admin 09/09    soaDufNfxYjm
pw admin 31/08

arM0QTfOVQKG

// obtener datos de metodo de controlador papa  reescribiendo en el nuevo controlador hijo

$data = parent::indexAction($query, $page, $request);

// obtener url desde controlador  dependiendo de router y parametros:
		return $this->redirect($this->generateUrl('app_cms_archivo_section_date',
            array('date' => $date, 'section' => 'trome','page'=>1)

// obtener url desde vista twig


// usuarios y passwords de diferentes aplicaciones para visualizar

	1: http://cases-assoc.com/beta/trome/control/index.html
		cases
		cases


	
	
//diferencias y trucos
//agregar agente ssh para usar repositorios remotos
	1	si sale your configuration does not allow connection to http //packagist.org ...
		agrega 
	2	// esto es para usar el usuario ssh de la maquina virtual.
		//	https://www.youtube.com/watch?v=G69dfwG2DJ4
		// localizate en la carpeta /.ssh i ubica el archivo .pub
                // pueden haber varias claves o podemos crear una con 
                ssh-keygen -t rsa
                tambien se puede usar distintas en distintos repositorios en el servidor local
		//a continuacion solicitamos un agente 
		$	eval $(ssh-agent -s)
		//nos saldra la id de agente 
		Agent pid 34345
		// luego hacemos que el agente agregue en memoria a usuario ssh mediante el siguiente comando
		$	ssh-add /home/god/.ssh/id_rsa    //donde la ruta corresponde al archivo ssh sin pub
                esto nos facilitara el acceso al repositorio sin la necesidad de autenticarnos, dado que ya lo
                hace la clave publica por nosotros.


2.1 ya tenemos el agente ahora para empezar a obtener el repositorio tenemos que usar su ruta ssh 
(git@github.com:dnnstone/symfo.git)
 creamos la carpeta en la que alojaremos y  
con git init inicializamos el repositorio (activamos el uso de git en esa carpeta)

2.2 direccionamos el repositorio a usar con el comando git remote add  origin git@github.com:dnnstone/symfo.git
2.3 y bajamos con git pull origin master 
2.4 fin ahora podemos pushear o pullear lo que sea en este repositorio sin autenticacion por correo 

	3   El  composer.json  que hace referencia la actual maquina virtual Server ElComercio tiene un git que hace referencia a 
		git@git.webflow.ro:sol90/eltiempogroup-wfcms.git
		y no a la ruta indicada en el correo del proyecto del comercio
		http://git.webflow.ro/sol90/ecperu git@git.webflow.ro:sol90/ecperu.git 
		se hará una prueba con la mencionada ruta de repositorio
	4	Aumentar el tiempo de espera en nginx y en php 
		php 
			vim /etc/php5/fpm/php.ini
			Set…

			max_execution_time = 300
			
		nginx
			If you want to increase time-limit for all-sites on your server, you can edit main nginx.conf file:
			vim /etc/nginx/nginx.conf
			Add following in http{..} section
			
			http {
			#...
				fastcgi_read_timeout 300; 
			#...
			}
	
	5	PHP Catchable fatal error: 
			Argument 1 passed to Wf\Bundle\CmsBaseAdminBundle\Security\SecurityContext::setCategoryRepository() 
			must be an instance of Wf\Bundle\CmsBaseBundle\Entity\Repository\CategoryRepository, 
			instance of Doctrine\ORM\EntityRepository given, 
			called in /var/www/etmotor2/app/admin/cache/dev/adminDevDebugProjectContainer.php on line 5339 and defined in
			/var/www/etmotor2/vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Security/SecurityContext.php on line 27
	
	
	6 	es este el proyecto asignado?  git@git.webflow.ro:sol90/ecperu.git
	
	7	error al instalar proyecto
		> Wf\Bundle\CmsBaseAdminBundle\Composer\ScriptHandler::postInstall
		Post install
		Admin env (admin.app.lo) is not setup correctly: Empty check response

	8 	Luego de superado el problema anterior (lo arreglaron la gente de xalok) sale este error por determinar
	
		 An exception has been thrown during the compilation of a template 
		 ("Unable to find file "@AppCmsBundle/Resources/public/stylesheets/screen.css".") 
		 in "/var/www/elcomercio/src/App/Bundle/CmsBundle/Resources/views/layout_content.html.twig".
		500 Internal Server Error - Twig_Error_Syntax
		1 linked Exception:
		InvalidArgumentException » 


	
	


-----------//////TODO  GIT/////----------------
1	clonar un repositorio /sea con usuaro ssh o ruta no segura	
	git clone username@host:/path/to/repository  usamos para el comercio
	git clone /path/to/repository                usamos para cualquier proyecto libre en github
	
2	3 ARBOLES, 
	Directorio de trabajo, Index (storage),	Head (apunta al ultimo commit)
	
3	Para registrar cambios (añade al Index) los archivos cambiados
	git add <filename>  //o
	gid add . 			//agrega todo lo que vea con cambios

4	Para hacer commit a este cambio	
	git commit -m 	"mensaje inclusivo"  //significa que el archivo va al HEAD, pero aun no está en el repositorio
	git commit -am  "mensaje"  // el 'a' significa que agrega todos los archivos (hace un git add . previo) 
							   // el 'm' significa que queremos agregar un mensaje 	

5   para enviar los cambios al repositorio (del HEAD al Repositorio)
	git push origin master   //Podemos reemplazar origin masster por la rama a ala que quieress enviar tus cambios
	
6 	Si no has clonado un repositorio ya existente y quieres conectar tu repositorio local a un repositorio remoto, usa
	git remote add origin <server>
	
7	Ramas Las ramas son utilizadas para desarrollar funcionalidades aisladas unas de otras. La rama master es la rama "por defecto" cuando creas un repositorio. Crea nuevas ramas durante el desarrollo y fusiónalas a la rama principal cuagndo termines.
	crear una nueva rama	"feaure_x"  
	git checkout -b feature_x
	//vuelve a la rama principal
	git checkout master
	//y borra la rama
	git branch -d feature_x
	//Una rama nueva no estará disponible para los demás a menos que subas (push) la rama a tu repositorio remoto
	git push origin <branch>

8	//Actualiza y fusiona Para actualizar tu repositorio local al commit más nuevo, ejecuta 
	git pull
	//en tu directorio de trabajo para bajar y fusionar los cambios remotos.
	//Para fusionar otra rama a tu rama activa (por ejemplo master), utiliza
	git merge <branch>
	//en ambos casos git intentará fusionar automáticamente los cambios. Desafortunadamente, no siempre será posible y se podrán producir conflictos. Tú eres responsable de fusionar esos conflictos manualmente al editar los archivos mostrados por git. Después de modificarlos, necesitas marcarlos como fusionados con
	git add <filename>
	//Antes de fusionar los cambios, puedes revisarlos usando
	git diff <source_branch> <target_branch>
	
9	ETIQUETAS
	//Se recomienda crear etiquetas para cada nueva versión publicada de un software. Este concepto no es nuevo, ya que estaba disponible en SVN. Puedes crear una nueva etiqueta llamada 1.0.0 ejecutando
	git tag 1.0.0 1b2e1d63ff
	//1b2e1d63ff se refiere a los 10 caracteres del commit id al cual quieres referirte con tu etiqueta. Puedes obtener el commit id con 
	git log
	//también puedes usar menos caracteres que el commit id, pero debe ser un valor único.	

10	REEMPLAZA CAMBIOS LOCALES
	//En caso de que hagas algo mal (lo que seguramente nunca suceda ;) puedes reemplazar cambios locales usando el comando
	git checkout -- <filename>
	//Este comando reemplaza los cambios en tu directorio de trabajo con el último contenido de HEAD. Los cambios que ya han sido agregados al Index, así como también los nuevos archivos, se mantendrán sin cambio.
	Por otro lado, si quieres deshacer todos los cambios locales y commits, puedes traer la última versión del servidor y apuntar a tu copia local principal de esta forma
	git fetch origin
	git reset --hard origin/master

11	datos útiles
	Interfaz gráfica por defecto
	gitk
	Colores especiales para la consola
	git config color.ui true
	Mostrar sólo una línea por cada commit en la traza
	git config format.pretty oneline
	Agregar archivos de forma interactiva
	git add -i	

12  index -> stage
	al hacer add, agregamos los archivos al index
	al hace commit, agregamos los que tan el en index al archivos al stoge
	si haces commit con -am, directamente llevas todos los archivos al stoge
	el stoge es el estado en el que se comparar y es el camino previo de los demas archivos que se agregan de otros usuarios
	si queremos regresar algun archivo del stoge hasta antes del index (es decir revertir el cambio commiteado) usamos el comando:
		git reset HEAD <ruta del archivo>	
		este cambio no borra la información del archivo que se regreso, 
			git reset --soft HEAD <ruta del archivo>
			git reset --hard HEAD <ruta del archivo>

13
	# CREANDO UN NUEVO BRANCH
	$ git branch nombredelbranch

	# CAMBIARSE DE BRANCH
	$ git checkout nombredelbrach

	# VIENDO LOS BRANCHES DEL PROYECTO
	# (el asterisco indica el branch donde estamos)
	$ git branch

	# UNIFICANDO BRANCHES
	# (esto actualiza el branch donde estamos con los
	# cambios que tenga el branch que indiquemos)
	$ git merge NombreDelBranchAunificar

14 si nuestra rama no esta en el servidor y queremos hacer push
	usamos git push origin "<nombre de nuestra rama creada>"
	
-----//twig principales de xalok//---------
header AppCmsBundle.header.default.html.twig entrando a la ruta http://elcomercio.lo/header/
	
-----//configuracion y versiones de servicios minimos necesarios para q funcione xalok
redis: $ redis-server --version
		Redis server version 2.4.14 (00000000:0)
elasticsearch: curl -XGET 'localhost:9200' 
		{
		  "status" : 200,
		  "name" : "Fenris Wolf",
		  "cluster_name" : "elasticsearch",
		  "version" : {
			"number" : "1.7.5",
			"build_hash" : "00f95f4ffca6de89d68b7ccaf80d148f1f70e4d4",
			"build_timestamp" : "2016-02-02T09:55:30Z",
			"build_snapshot" : false,
			"lucene_version" : "4.10.4"
		  },
		  "tagline" : "You Know, for Search"
		}

---todo git 2
Esta es una experiencia propia para la creacion de un proyecto en un repositorio desde consola con un usuario ssh


inicialmente creamos un proyecto en github o en nuestro servidor preferido,
creamos nuestra clave publica y privada en nuestro servidor local y la mantenemos en memoria siempre
    ssh-keygen -t rsa
    Enter file in which to save the key (/home/youruser/.ssh/id_rsa):  //si se desea se cambia de ruta


configuramos nuestra clave publica en nuestro servidor remoto de github (agregamos la clave para el proyecto)

Si tenemos una carpeta inicial, llamanda "proyecto" tenemos que inicializarla con git 
(en el caso que venga con una carpeta .git tendriamos que eliminarla para inicializarla con nuestra propia config)
la inicializamos con el siguiente comando:
cd "proyecto"
git init
git add .
git commit -m "repositorio inicial"
git remote add origin git@github.com:dnnstone/ReacDnns.git     //ruta ssh, tambien funciona con ruta https sin clave ssh
git push -u origin master



----//////////////Comandos Adicionales para Instalación de XALOK
// para estos comandos asegurarse de agregar al  /etc/hosts del servidor las rutas de la aplicacion creada (admin u front)
make wf_assets
make assetic-dump
make compass_compile_admin_prod
make compass_compile_public_prod
make compass_compile



Tabla demas descubierta en xalok_elcomercio		
drupal_routes 
forum registration


tablas faltantes: 
migration_versions
	
	
Mapa de XALOK
	
	admin.etmotor.lo
		/web/app_admin.php
	etmotor.lo
		/web/app_public.php
			app/public/PublicKernel.php
				\ETGroup\Bundle\CmsBundle\Kernel\CmsKernel
					\Wf\Bundle\CmsBaseBundle\Kernel\CmsKernel
						new \Symfony\Bundle\SecurityBundle\SecurityBundle(),
						new \Doctrine\Bundle\FixturesBundle\DoctrineFixturesBundle(),
						new \Doctrine\Bundle\MigrationsBundle\DoctrineMigrationsBundle(),
						new \FOS\UserBundle\FOSUserBundle(),
						new \Lexik\Bundle\TranslationBundle\LexikTranslationBundle(),
						//admin bundle (and its dependencies)
						new \Sonata\CoreBundle\SonataCoreBundle(),
						new \Sonata\BlockBundle\SonataBlockBundle(),
						new \Sonata\jQueryBundle\SonatajQueryBundle(),
						new \Sonata\AdminBundle\SonataAdminBundle(),
						new \Sonata\DoctrineORMAdminBundle\SonataDoctrineORMAdminBundle(),
						new \CCDNUser\SecurityBundle\CCDNUserSecurityBundle(),
						//wfbundles
						new \Wf\Bundle\CmsBaseAdminBundle\WfCmsBaseAdminBundle(),
						new \Wf\Bundle\CmsEditorBundle\WfCmsEditorBundle(),
					new \ETGroup\Bundle\CmsBundle\ETGroupCmsBundle()
				ETMotor\Bundle\WebappBundle\ETMotorWebappBundle()
		
	Los lugares mas oscuros del infierno están reservados para  aquellos que se mantienen
	neutrales en tiempos de crisis moral
	dante alighieri
	
	
///////////////CONFIGURACION YAML XALOK /////////////////////////////////////////////////////


//actualizaciones...

 
 //comandos make
 make wf-templates-config
 make clean
 make wf_assets 
 //tast  ofiiciales 
 // agregar make antes del comando siguiente
 
 ADMIN_SF_ENV=dev
ADMIN_SF_CONSOLE=./app/admin/console --env=$(ADMIN_SF_ENV)
ADMIN_HOST=admin-wfcms.lo

PUBLIC_SF_ENV=$(ADMIN_SF_ENV)
PUBLIC_SF_CONSOLE=./app/public/console --env=$(PUBLIC_SF_ENV)
PUBLIC_HOST=wfcms.lo

WEBSERVER_USER=$(shell ps axho user,comm|grep -E "httpd|apache|nginx" | uniq | grep -v "root"|cut -d " " -f1)
COMPASS=compass

DERIVED_DIRS=web/uploads web/files app/admin/var app/public/var app/admin/cache app/public/cache app/admin/logs app/public/logs

GULP="./node_modules/gulp/bin/gulp.js"

include .project-config
-include .make-config

PERMISSION_DIRS=$(DERIVED_DIRS) web/sitemap
SRC_DIR=./src/$(PROJECT_NAMESPACE)
SK_DIRS=$(SRC_DIR) ./app

UNAME=$(shell uname)
PROJECT_DIR=$(shell pwd)
ifeq ($(UNAME), Darwin)
	SEDI=sed -i '.bak'
else
	SEDI=sed -i
endif

default:

rebuild_db:
ifeq ($(ADMIN_SF_ENV),dev)
	-$(ADMIN_SF_CONSOLE) doctrine:database:drop --force
	$(ADMIN_SF_CONSOLE) doctrine:database:create
	make migrate-db
else
	@echo reloading DB supressed on ADMIN_SF_ENV != dev, change your ADMIN_SF_ENV var in .make-config
endif

migrate-db:
	$(ADMIN_SF_CONSOLE) doctrine:migrations:migrate --no-interaction

load_fixtures:
ifeq ($(ADMIN_SF_ENV),dev)
	$(ADMIN_SF_CONSOLE) doctrine:fixtures:load
	make elastic_reindex
	make wf_assets
	#make translation-extract
else
	@echo fixtures loading supressed on ADMIN_SF_ENV != dev, change your ADMIN_SF_ENV var in .make-config
endif

clean:
	make clean-admin
	make clean-public

clean-admin:
	$(ADMIN_SF_CONSOLE) cache:clear

clean-public:
	$(PUBLIC_SF_CONSOLE) cache:clear

fix_permissions:
ifeq ($(UNAME), Darwin)
	chmod -R +a "$(WEBSERVER_USER) allow delete,write,append,file_inherit,directory_inherit" $(PERMISSION_DIRS)
	chmod -R +a "`whoami` allow delete,write,append,file_inherit,directory_inherit" $(PERMISSION_DIRS)
else
	setfacl -R -m u:$(WEBSERVER_USER):rwx -m u:`whoami`:rwx $(DERIVED_DIRS)
	setfacl -dR -m u:$(WEBSERVER_USER):rwx -m u:`whoami`:rwx $(DERIVED_DIRS)
endif

install_composer: composer.phar
	curl -s https://getcomposer.org/installer | php

install_third_party: install_composer
	#rm -rf vendor/*
	#php composer.phar install
	make install_npms

install_npms_project:
	npm install

install_npms_lock:
	cd vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Resources/node_app; npm install

install_npms_tracking:
	cd vendor/wfcms/cms-tracking-bundle/Wf/Bundle/TrackingBundle/Resources/node_app; npm install

install_npms: install_npms_project install_npms_lock install_npms_tracking

install-assets:
	cd vendor/wfcms/cms-assets-bundle/Wf/Bundle/CmsBaseAssetsBundle; make install

link_assets:
	-cd web; ln -s bundles/$(PUBLIC_BUNDLE_LC_NAME)/javascripts; ln -s bundles/$(PUBLIC_BUNDLE_LC_NAME)/stylesheets css; ln -s bundles/$(PUBLIC_BUNDLE_LC_NAME)/images
	-cd web/javascripts; ln -s ../../../../../../../vendor/wfcms/cms-assets-bundle/Wf/Bundle/CmsBaseAssetsBundle/Resources/public/javascripts/lib

copy_dev_configs:
	cp app/admin/config/config_dev.yml.dist app/admin/config/config_dev.yml
	cp app/public/config/config_dev.yml.dist app/public/config/config_dev.yml

copy_prod_configs:
	cp app/admin/config/config_prod.yml.dist app/admin/config/config_prod.yml
	cp app/public/config/config_prod.yml.dist app/public/config/config_prod.yml

pre_install_skeleton:
	#remove temporary files, just in case

install_skeleton: pre_install_skeleton
	mv src/skeleton $(SRC_DIR)
	find $(SK_DIRS) -type f -print0 | xargs -0 $(SEDI) -e 's/{{PROJECT_LC_NAMESPACE}}/$(PROJECT_LC_NAMESPACE)/g' -e 's/{{PROJECT_NAMESPACE}}/$(PROJECT_NAMESPACE)/g'
	find $(SK_DIRS) -type f -name "*.bak" | xargs rm
	find $(SK_DIRS) -type f -name "*__PROJECT_NAMESPACE__*" | sed -e 's/\(.*\)__PROJECT_NAMESPACE__\(.*\)/mv & \1$(PROJECT_NAMESPACE)\2/' | sh
	-mkdir src/$(PROJECT_NAMESPACE)/Bundle/CmsAdminBundle/Resources/public/images
	cd src/$(PROJECT_NAMESPACE)/Bundle/CmsAdminBundle/Resources/public/images; ln -s ../../../../../../../vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Resources/public/images base
	cd src/$(PROJECT_NAMESPACE)/Bundle/CmsAdminBundle/Resources/public; ln -s ../../../../../../vendor/wfcms/cms-assets-bundle/Wf/Bundle/CmsBaseAssetsBundle/Resources/public/config.rb; ln -s ../../../../../../vendor/wfcms/cms-assets-bundle/Wf/Bundle/CmsBaseAssetsBundle/Resources/public/config_prod.rb

create_project: install_skeleton

create_derived_dirs:
	-mkdir $(DERIVED_DIRS)
	make fix_permissions

pre_install: copy_dev_configs copy_prod_configs create_derived_dirs install_npms install-assets

post_install: rebuild_db link_assets bower_install compass_compile_admin_prod compass_compile_public_prod load_fixtures assetic-dump

assetic-dump-admin:
	$(ADMIN_SF_CONSOLE) assetic:dump

assetic-dump-public:
	$(PUBLIC_SF_CONSOLE) assetic:dump

assetic-dump: assetic-dump-admin assetic-dump-public

assetic-watch:
	$(PUBLIC_SF_CONSOLE) assetic:dump --watch

elastic_reindex:
	$(ADMIN_SF_CONSOLE) fos:elastica:populate

bower_install:
	bower install --allow-root

compass_compile: compass_compile_admin compass_compile_public

compass_compile_public:
	$(GULP) compass-compile-public

compass_compile_admin:
	$(GULP) compass-compile-admin

compass_compile_admin_dist:
	cd vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Resources/public; $(COMPASS) compile --force -c config_dist.rb; git status; git add dist_css; git commit -m "updated dist CSSs"; git push

compass_compile_public_prod:
	$(GULP) compass-compile-public-prod

compass_compile_admin_prod:
	$(GULP) compass-compile-admin-prod

compass_watch_public:
	$(GULP) compass-watch-public

compass_watch_admin:
	cd $(SRC_DIR)/Bundle/CmsAdminBundle/Resources/public; $(COMPASS) watch

test:
	echo $(WEBSERVER_USER)

update-wfcms:
	composer update wfcms/cms-assets-bundle wfcms\/cms-base-bundle wfcms\/cms-base-admin-bundle wfcms\/cms-editor-bundle wfcms\/cms-assets-bundle wfro\/common-bundle wfcms\/cms-tracking-bundle wfcms\/blog-bundle wfcms\/cms-rss-bundle wfcms/xalok-red-bundle wfcms/xalok-docs-importer-bundle
	git add composer.lock
	git commit -m "update wfcms"
	git push

uw:
	make update-wfcms

translation-extract: clean
	$(ADMIN_SF_CONSOLE) translation:extract -c project
	$(ADMIN_SF_CONSOLE) lexik:translations:import
	make wf_assets #extracting translations also dumps template_messages.json - used in JS I18n

translation-save:
	$(ADMIN_SF_CONSOLE) lexik:translations:export
	make clean
	make wf_assets
	git status
	git add app/public/Resources/translations
	git add app/config/cms/template_messages.json
	git commit -m "update translations"
	git push origin

translation-update-base:
	find `pwd`/vendor/wfcms `pwd`/vendor/wfro -type d -name "translations" -print0 | xargs -0 -I{} find '{}' -type f -print0 | xargs -0 -I{} sh -c 'eval F={}; eval FN=$(basename $F);cp app/admin/Resources/translations/$FN $F'
	@echo Translation files have been copied in the base bundles. Check each base bundle for leftovers (project's name in translations), commit and push

translation-from-base:
	find `pwd`/vendor/wfcms `pwd`/vendor/wfro -type d -name "translations" -print0 | xargs -0 -I{} find '{}' -type f -print0 | xargs -0 -I{} sh -c 'eval F={}; eval FN=$(basename $F);cp $F app/admin/Resources/translations/$FN'
	@echo Translation files have been copied in the base bundles. Check each base bundle for leftovers (project's name in translations), commit and push

wf-templates-config:
	@echo !!!NO need to run this task anymore, the templates' configuration is taken from the HTML modules directly. In the worst case scenario, just clear symfony's cache, the templates will be parsed on the next request.
	@#$(ADMIN_SF_CONSOLE) wf:cms:templates-config-dump $(ADMIN_HOST)

unit-tests-sample-data:
	cd vendor/wfcms/cms-base-bundle/Wf/Bundle/CmsBaseBundle; phantomjs Resources/dump/unit-tests-sample-data.js $(ADMIN_HOST); git status; git add Resources/test/roled_modules_data; git commit -m "updated unit tests sample data"; git push

wf_assets:
	@#$(ADMIN_SF_CONSOLE) wf:cms:assets:dump -u -d $(ADMIN_HOST)
	$(GULP) wf-assets
	$(GULP) webpack

dev:
	$(GULP) dev


publish-populate:
	sh ./vendor/wfcms/cms-base-admin-bundle/Wf/Bundle/CmsBaseAdminBundle/Resources/bin/publish-populate

 Boards tambien en bundle etmotors
 
 
 
 
 
 
 
 ///////////////////////
 ////////////////////////
 //////////////////////// rutinas de instalacion con docker
 
composer install
make pre_install
bower install --allow-root
rm -rf app/admin/cache/*
rm -rf app/public/cache/*
make fix_permissions
make assetic-dump
php app/admin/console assets:install --symlink
make compass_compile_admin_prod
make compass_compile
make post_install
make elastic_reindex
make clean
make load_fixtures


///rutinas de fiuxtures y repoblado
sidebar/category
metatags
php app/admin/console doctrine:schema:drop --force
php app/admin/console doctrine:schema:create
php app/admin/console doctrine:fixtures:load


//contraseña docker admin 
//repiblar los menus de xalok
app/admin/console wf:cm:re:me

IMgH3AH_1vSo
O6RffLbwbVTk




Accesorio impresindible para  tu bicicleta, te brindara seguridad y comodidad en su uso.
sumamente práctico, ligero, resistente y duradero ten la seguridad que te acompañara muchos años con tu
bicicleta.Funciona con bateria interna recargable para el dispositivo, y a pila 
de reloj para el mando a distancia que fácil  te dura 3 años antes q la reemplaces por otra pila 
(yo la uso todos los dias desde ya hace 3 años y aún no la cambio) es decir,
 te olvidas de todo una vez instalado.

Disuade cualquier intento de robo, activando su alarma con sensor de movimiento, y desactivandolo 
para cuando ya no lo necesites, todo con el mando a distancia, también, ubica el mando en el manillar,
y ten el timbre a tu disposición para advertir el paso a los peatones y el control de las luces con sus 3
efectos de intermitencia para aumentar el efecto de vizualización trasero. 

Viene con todos sus accesorios y soportes para el mando y el dispositivo, 
muy firmes fuertes, de fácil instalación, no te preocupes por vibraciones o fallos de compatibilidad,
el dispositivo puede instalarse en cualquier sillin de bicicleta dado que el soporte tiene un sistema de
encaje que se acopla a presion en los fierros que soportan el sillin y el mando en cualquier manillar.
para la carga, tiene un push que otorga un facil sacado y un perno para su ajuste si es que no se 
sacara de la bici, lo puedes cargar incluso en la misma bici.

Lo recomiendo a ojo cerrado, vengo ya usandolo por mas de 3 años y no he tenido inconvenientes,
 lo puse en 3 sillines distintos y el los 3 se ajusto perfectamente, se nota que el material es bueno
 y que es un dispositivo que te va a durar y que soportara trabajo rudo, es ideal para andar en bici 
 por la ciudad todos los dias y a cualquier horario, y dependiendo del uso lo recargaras 1 o 2 veces al mes
 en mi caso lo hago 2 veces al mes usandolo todos los dias un promedio de 1 a 2 horas diarias.


Características:
1. Hecho de plástico de alta calidad y gran resistencia, duradero y ligero.
2. Las luces traseras se controlan con boton en el dispositivo y 
   también con el control inalámbrico.
3. 3 efectos de sonido del Altavoz con 120 dB de intensidad.
4. Hay 3 efectos de luces traseras. 
   
5. Carga USB con conector universal para el cargador, con protector de resistenncia al agua.
6. También tiene un diseño impermeable que lo hace ideal para su uso incluso bajo la lluvia.

Especificaciones:
Tipo: bloqueo de seguridad para bicicleta
Tamaño del paquete: 21x9x4,6 cm
Material: de plástico
Color: Negro
Sonido de alarma: 120 decibeles
Distancia remota: 1-100m (Área abierta)
Batería: 3.7V 800mA batería de litio
Impermeable: IPX5 impermeable
Fuente de luz:  LED
Crisol de grafito mini con fusión del metatitle


LA CAJA CONTIENE:
1x dispositivo de luz y alarma
1x Mando a distancia
1x Soporte de Mando a distancia
1x Soporte de dispositivo de luz y alarma
1x cable USB
1x Junta
1x cinturón fijo
3x interior hexagonal destornillador
1x instrucciones



Advertencia:
1. Mantener alejado de los niños. dado que el sonido y la luz podria afectarlos cuando lo ven o escuchan de muy cerca
2. Después de un largo tiempo de inactividad, debe cargarlo por completo cuando lo vuelva a utilizar, y cuando lo cargue, la luz emitirá un sonido de alarma.
3. Sugiere que lo cargue regularmente, si no lo usa por un tiempo prolongado.






